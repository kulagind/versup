var ro=Object.create;var Ln=Object.defineProperty;var no=Object.getOwnPropertyDescriptor;var io=Object.getOwnPropertyNames;var ao=Object.getPrototypeOf,so=Object.prototype.hasOwnProperty;var Pn=t=>e=>{var r=t[e];if(r)return r();throw new Error("Module not found in bundle: "+e)};var oo=(t,e)=>()=>(t&&(e=t(t=0)),e);var _=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var co=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of io(e))!so.call(t,i)&&i!==r&&Ln(t,i,{get:()=>e[i],enumerable:!(n=no(e,i))||n.enumerable});return t};var _e=(t,e,r)=>(r=t!=null?ro(ao(t)):{},co(e||!t||!t.__esModule?Ln(r,"default",{value:t,enumerable:!0}):r,t));var qn=_(Er=>{var Pe=require("path"),be=process.platform==="win32",we=require("fs"),uo=process.env.NODE_DEBUG&&/fs/.test(process.env.NODE_DEBUG);function lo(){var t;if(uo){var e=new Error;t=r}else t=n;return t;function r(i){i&&(e.message=i.message,i=e,n(i))}function n(i){if(i){if(process.throwDeprecation)throw i;if(!process.noDeprecation){var a="fs: missing callback "+(i.stack||i.message);process.traceDeprecation?console.trace(a):console.error(a)}}}}function fo(t){return typeof t=="function"?t:lo()}var bl=Pe.normalize;be?fe=/(.*?)(?:[\/\\]+|$)/g:fe=/(.*?)(?:[\/]+|$)/g;var fe;be?Et=/^(?:[a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/][^\\\/]+)?[\\\/]*/:Et=/^[\/]*/;var Et;Er.realpathSync=function(e,r){if(e=Pe.resolve(e),r&&Object.prototype.hasOwnProperty.call(r,e))return r[e];var n=e,i={},a={},s,o,c,u;l();function l(){var E=Et.exec(e);s=E[0].length,o=E[0],c=E[0],u="",be&&!a[c]&&(we.lstatSync(c),a[c]=!0)}for(;s<e.length;){fe.lastIndex=s;var v=fe.exec(e);if(u=o,o+=v[0],c=u+v[1],s=fe.lastIndex,!(a[c]||r&&r[c]===c)){var p;if(r&&Object.prototype.hasOwnProperty.call(r,c))p=r[c];else{var m=we.lstatSync(c);if(!m.isSymbolicLink()){a[c]=!0,r&&(r[c]=c);continue}var y=null;if(!be){var S=m.dev.toString(32)+":"+m.ino.toString(32);i.hasOwnProperty(S)&&(y=i[S])}y===null&&(we.statSync(c),y=we.readlinkSync(c)),p=Pe.resolve(u,y),r&&(r[c]=p),be||(i[S]=y)}e=Pe.resolve(p,e.slice(s)),l()}}return r&&(r[n]=e),e};Er.realpath=function(e,r,n){if(typeof n!="function"&&(n=fo(r),r=null),e=Pe.resolve(e),r&&Object.prototype.hasOwnProperty.call(r,e))return process.nextTick(n.bind(null,null,r[e]));var i=e,a={},s={},o,c,u,l;v();function v(){var E=Et.exec(e);o=E[0].length,c=E[0],u=E[0],l="",be&&!s[u]?we.lstat(u,function(j){if(j)return n(j);s[u]=!0,p()}):process.nextTick(p)}function p(){if(o>=e.length)return r&&(r[i]=e),n(null,e);fe.lastIndex=o;var E=fe.exec(e);return l=c,c+=E[0],u=l+E[1],o=fe.lastIndex,s[u]||r&&r[u]===u?process.nextTick(p):r&&Object.prototype.hasOwnProperty.call(r,u)?S(r[u]):we.lstat(u,m)}function m(E,j){if(E)return n(E);if(!j.isSymbolicLink())return s[u]=!0,r&&(r[u]=u),process.nextTick(p);if(!be){var A=j.dev.toString(32)+":"+j.ino.toString(32);if(a.hasOwnProperty(A))return y(null,a[A],u)}we.stat(u,function(M){if(M)return n(M);we.readlink(u,function(L,U){be||(a[A]=U),y(L,U)})})}function y(E,j,A){if(E)return n(E);var M=Pe.resolve(l,j);r&&(r[A]=M),S(M)}function S(E){e=Pe.resolve(E,e.slice(o)),v()}}});var Cr=_((xl,$n)=>{$n.exports=ke;ke.realpath=ke;ke.sync=jr;ke.realpathSync=jr;ke.monkeypatch=mo;ke.unmonkeypatch=po;var nt=require("fs"),Or=nt.realpath,Tr=nt.realpathSync,ho=process.version,Dn=/^v[0-5]\./.test(ho),Mn=qn();function Zn(t){return t&&t.syscall==="realpath"&&(t.code==="ELOOP"||t.code==="ENOMEM"||t.code==="ENAMETOOLONG")}function ke(t,e,r){if(Dn)return Or(t,e,r);typeof e=="function"&&(r=e,e=null),Or(t,e,function(n,i){Zn(n)?Mn.realpath(t,e,r):r(n,i)})}function jr(t,e){if(Dn)return Tr(t,e);try{return Tr(t,e)}catch(r){if(Zn(r))return Mn.realpathSync(t,e);throw r}}function mo(){nt.realpath=ke,nt.realpathSync=jr}function po(){nt.realpath=Or,nt.realpathSync=Tr}});var Vn=_((Sl,Fn)=>{Fn.exports=function(t,e){for(var r=[],n=0;n<t.length;n++){var i=e(t[n],n);vo(i)?r.push.apply(r,i):r.push(i)}return r};var vo=Array.isArray||function(t){return Object.prototype.toString.call(t)==="[object Array]"}});var Wn=_((El,Bn)=>{"use strict";Bn.exports=Gn;function Gn(t,e,r){t instanceof RegExp&&(t=Un(t,r)),e instanceof RegExp&&(e=Un(e,r));var n=zn(t,e,r);return n&&{start:n[0],end:n[1],pre:r.slice(0,n[0]),body:r.slice(n[0]+t.length,n[1]),post:r.slice(n[1]+e.length)}}function Un(t,e){var r=e.match(t);return r?r[0]:null}Gn.range=zn;function zn(t,e,r){var n,i,a,s,o,c=r.indexOf(t),u=r.indexOf(e,c+1),l=c;if(c>=0&&u>0){if(t===e)return[c,u];for(n=[],a=r.length;l>=0&&!o;)l==c?(n.push(l),c=r.indexOf(t,l+1)):n.length==1?o=[n.pop(),u]:(i=n.pop(),i<a&&(a=i,s=u),u=r.indexOf(e,l+1)),l=c<u&&c>=0?c:u;n.length&&(o=[a,s])}return o}});var ti=_((Ol,ei)=>{var yo=Vn(),Hn=Wn();ei.exports=wo;var Xn="\0SLASH"+Math.random()+"\0",Yn="\0OPEN"+Math.random()+"\0",Ar="\0CLOSE"+Math.random()+"\0",Jn="\0COMMA"+Math.random()+"\0",Qn="\0PERIOD"+Math.random()+"\0";function Rr(t){return parseInt(t,10)==t?parseInt(t,10):t.charCodeAt(0)}function go(t){return t.split("\\\\").join(Xn).split("\\{").join(Yn).split("\\}").join(Ar).split("\\,").join(Jn).split("\\.").join(Qn)}function _o(t){return t.split(Xn).join("\\").split(Yn).join("{").split(Ar).join("}").split(Jn).join(",").split(Qn).join(".")}function Kn(t){if(!t)return[""];var e=[],r=Hn("{","}",t);if(!r)return t.split(",");var n=r.pre,i=r.body,a=r.post,s=n.split(",");s[s.length-1]+="{"+i+"}";var o=Kn(a);return a.length&&(s[s.length-1]+=o.shift(),s.push.apply(s,o)),e.push.apply(e,s),e}function wo(t){return t?(t.substr(0,2)==="{}"&&(t="\\{\\}"+t.substr(2)),it(go(t),!0).map(_o)):[]}function bo(t){return"{"+t+"}"}function ko(t){return/^-?0\d/.test(t)}function xo(t,e){return t<=e}function So(t,e){return t>=e}function it(t,e){var r=[],n=Hn("{","}",t);if(!n||/\$$/.test(n.pre))return[t];var i=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(n.body),a=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(n.body),s=i||a,o=n.body.indexOf(",")>=0;if(!s&&!o)return n.post.match(/,.*\}/)?(t=n.pre+"{"+n.body+Ar+n.post,it(t)):[t];var c;if(s)c=n.body.split(/\.\./);else if(c=Kn(n.body),c.length===1&&(c=it(c[0],!1).map(bo),c.length===1)){var l=n.post.length?it(n.post,!1):[""];return l.map(function(br){return n.pre+c[0]+br})}var u=n.pre,l=n.post.length?it(n.post,!1):[""],v;if(s){var p=Rr(c[0]),m=Rr(c[1]),y=Math.max(c[0].length,c[1].length),S=c.length==3?Math.abs(Rr(c[2])):1,E=xo,j=m<p;j&&(S*=-1,E=So);var A=c.some(ko);v=[];for(var M=p;E(M,m);M+=S){var L;if(a)L=String.fromCharCode(M),L==="\\"&&(L="");else if(L=String(M),A){var U=y-L.length;if(U>0){var ue=new Array(U+1).join("0");M<0?L="-"+ue+L.slice(1):L=ue+L}}v.push(L)}}else v=yo(c,function(Q){return it(Q,!1)});for(var ge=0;ge<v.length;ge++)for(var le=0;le<l.length;le++){var J=u+v[ge]+l[le];(!e||s||J)&&r.push(J)}return r}});var Jt=_((Tl,si)=>{si.exports=W;W.Minimatch=Z;var Ot=function(){try{return require("path")}catch{}}()||{sep:"/"};W.sep=Ot.sep;var Lr=W.GLOBSTAR=Z.GLOBSTAR={},Eo=ti(),ri={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},Nr="[^/]",Ir=Nr+"*?",Oo="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",To="(?:(?!(?:\\/|^)\\.).)*?",ni=jo("().*{}+?[]^$\\!");function jo(t){return t.split("").reduce(function(e,r){return e[r]=!0,e},{})}var ii=/\/+/;W.filter=Co;function Co(t,e){return e=e||{},function(r,n,i){return W(r,t,e)}}function xe(t,e){e=e||{};var r={};return Object.keys(t).forEach(function(n){r[n]=t[n]}),Object.keys(e).forEach(function(n){r[n]=e[n]}),r}W.defaults=function(t){if(!t||typeof t!="object"||!Object.keys(t).length)return W;var e=W,r=function(i,a,s){return e(i,a,xe(t,s))};return r.Minimatch=function(i,a){return new e.Minimatch(i,xe(t,a))},r.Minimatch.defaults=function(i){return e.defaults(xe(t,i)).Minimatch},r.filter=function(i,a){return e.filter(i,xe(t,a))},r.defaults=function(i){return e.defaults(xe(t,i))},r.makeRe=function(i,a){return e.makeRe(i,xe(t,a))},r.braceExpand=function(i,a){return e.braceExpand(i,xe(t,a))},r.match=function(n,i,a){return e.match(n,i,xe(t,a))},r};Z.defaults=function(t){return W.defaults(t).Minimatch};function W(t,e,r){return Yt(e),r||(r={}),!r.nocomment&&e.charAt(0)==="#"?!1:new Z(e,r).match(t)}function Z(t,e){if(!(this instanceof Z))return new Z(t,e);Yt(t),e||(e={}),t=t.trim(),!e.allowWindowsEscape&&Ot.sep!=="/"&&(t=t.split(Ot.sep).join("/")),this.options=e,this.set=[],this.pattern=t,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.partial=!!e.partial,this.make()}Z.prototype.debug=function(){};Z.prototype.make=Ro;function Ro(){var t=this.pattern,e=this.options;if(!e.nocomment&&t.charAt(0)==="#"){this.comment=!0;return}if(!t){this.empty=!0;return}this.parseNegate();var r=this.globSet=this.braceExpand();e.debug&&(this.debug=function(){console.error.apply(console,arguments)}),this.debug(this.pattern,r),r=this.globParts=r.map(function(n){return n.split(ii)}),this.debug(this.pattern,r),r=r.map(function(n,i,a){return n.map(this.parse,this)},this),this.debug(this.pattern,r),r=r.filter(function(n){return n.indexOf(!1)===-1}),this.debug(this.pattern,r),this.set=r}Z.prototype.parseNegate=Ao;function Ao(){var t=this.pattern,e=!1,r=this.options,n=0;if(!r.nonegate){for(var i=0,a=t.length;i<a&&t.charAt(i)==="!";i++)e=!e,n++;n&&(this.pattern=t.substr(n)),this.negate=e}}W.braceExpand=function(t,e){return ai(t,e)};Z.prototype.braceExpand=ai;function ai(t,e){return e||(this instanceof Z?e=this.options:e={}),t=typeof t>"u"?this.pattern:t,Yt(t),e.nobrace||!/\{(?:(?!\{).)*\}/.test(t)?[t]:Eo(t)}var No=1024*64,Yt=function(t){if(typeof t!="string")throw new TypeError("invalid pattern");if(t.length>No)throw new TypeError("pattern is too long")};Z.prototype.parse=Io;var Xt={};function Io(t,e){Yt(t);var r=this.options;if(t==="**")if(r.noglobstar)t="*";else return Lr;if(t==="")return"";var n="",i=!!r.nocase,a=!1,s=[],o=[],c,u=!1,l=-1,v=-1,p=t.charAt(0)==="."?"":r.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",m=this;function y(){if(c){switch(c){case"*":n+=Ir,i=!0;break;case"?":n+=Nr,i=!0;break;default:n+="\\"+c;break}m.debug("clearStateChar %j %j",c,n),c=!1}}for(var S=0,E=t.length,j;S<E&&(j=t.charAt(S));S++){if(this.debug("%s	%s %s %j",t,S,n,j),a&&ni[j]){n+="\\"+j,a=!1;continue}switch(j){case"/":return!1;case"\\":y(),a=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s	%s %s %j <-- stateChar",t,S,n,j),u){this.debug("  in class"),j==="!"&&S===v+1&&(j="^"),n+=j;continue}m.debug("call clearStateChar %j",c),y(),c=j,r.noext&&y();continue;case"(":if(u){n+="(";continue}if(!c){n+="\\(";continue}s.push({type:c,start:S-1,reStart:n.length,open:ri[c].open,close:ri[c].close}),n+=c==="!"?"(?:(?!(?:":"(?:",this.debug("plType %j %j",c,n),c=!1;continue;case")":if(u||!s.length){n+="\\)";continue}y(),i=!0;var A=s.pop();n+=A.close,A.type==="!"&&o.push(A),A.reEnd=n.length;continue;case"|":if(u||!s.length||a){n+="\\|",a=!1;continue}y(),n+="|";continue;case"[":if(y(),u){n+="\\"+j;continue}u=!0,v=S,l=n.length,n+=j;continue;case"]":if(S===v+1||!u){n+="\\"+j,a=!1;continue}var M=t.substring(v+1,S);try{RegExp("["+M+"]")}catch{var L=this.parse(M,Xt);n=n.substr(0,l)+"\\["+L[0]+"\\]",i=i||L[1],u=!1;continue}i=!0,u=!1,n+=j;continue;default:y(),a?a=!1:ni[j]&&!(j==="^"&&u)&&(n+="\\"),n+=j}}for(u&&(M=t.substr(v+1),L=this.parse(M,Xt),n=n.substr(0,l)+"\\["+L[0],i=i||L[1]),A=s.pop();A;A=s.pop()){var U=n.slice(A.reStart+A.open.length);this.debug("setting tail",n,A),U=U.replace(/((?:\\{2}){0,64})(\\?)\|/g,function(Nn,In,Sr){return Sr||(Sr="\\"),In+In+Sr+"|"}),this.debug(`tail=%j
   %s`,U,U,A,n);var ue=A.type==="*"?Ir:A.type==="?"?Nr:"\\"+A.type;i=!0,n=n.slice(0,A.reStart)+ue+"\\("+U}y(),a&&(n+="\\\\");var ge=!1;switch(n.charAt(0)){case"[":case".":case"(":ge=!0}for(var le=o.length-1;le>-1;le--){var J=o[le],Q=n.slice(0,J.reStart),br=n.slice(J.reStart,J.reEnd-8),Rn=n.slice(J.reEnd-8,J.reEnd),St=n.slice(J.reEnd);Rn+=St;var Ks=Q.split("(").length-1,kr=St;for(S=0;S<Ks;S++)kr=kr.replace(/\)[+*?]?/,"");St=kr;var An="";St===""&&e!==Xt&&(An="$");var eo=Q+br+St+An+Rn;n=eo}if(n!==""&&i&&(n="(?=.)"+n),ge&&(n=p+n),e===Xt)return[n,i];if(!i)return Po(t);var to=r.nocase?"i":"";try{var xr=new RegExp("^"+n+"$",to)}catch{return new RegExp("$.")}return xr._glob=t,xr._src=n,xr}W.makeRe=function(t,e){return new Z(t,e||{}).makeRe()};Z.prototype.makeRe=Lo;function Lo(){if(this.regexp||this.regexp===!1)return this.regexp;var t=this.set;if(!t.length)return this.regexp=!1,this.regexp;var e=this.options,r=e.noglobstar?Ir:e.dot?Oo:To,n=e.nocase?"i":"",i=t.map(function(a){return a.map(function(s){return s===Lr?r:typeof s=="string"?qo(s):s._src}).join("\\/")}).join("|");i="^(?:"+i+")$",this.negate&&(i="^(?!"+i+").*$");try{this.regexp=new RegExp(i,n)}catch{this.regexp=!1}return this.regexp}W.match=function(t,e,r){r=r||{};var n=new Z(e,r);return t=t.filter(function(i){return n.match(i)}),n.options.nonull&&!t.length&&t.push(e),t};Z.prototype.match=function(e,r){if(typeof r>"u"&&(r=this.partial),this.debug("match",e,this.pattern),this.comment)return!1;if(this.empty)return e==="";if(e==="/"&&r)return!0;var n=this.options;Ot.sep!=="/"&&(e=e.split(Ot.sep).join("/")),e=e.split(ii),this.debug(this.pattern,"split",e);var i=this.set;this.debug(this.pattern,"set",i);var a,s;for(s=e.length-1;s>=0&&(a=e[s],!a);s--);for(s=0;s<i.length;s++){var o=i[s],c=e;n.matchBase&&o.length===1&&(c=[a]);var u=this.matchOne(c,o,r);if(u)return n.flipNegate?!0:!this.negate}return n.flipNegate?!1:this.negate};Z.prototype.matchOne=function(t,e,r){var n=this.options;this.debug("matchOne",{this:this,file:t,pattern:e}),this.debug("matchOne",t.length,e.length);for(var i=0,a=0,s=t.length,o=e.length;i<s&&a<o;i++,a++){this.debug("matchOne loop");var c=e[a],u=t[i];if(this.debug(e,c,u),c===!1)return!1;if(c===Lr){this.debug("GLOBSTAR",[e,c,u]);var l=i,v=a+1;if(v===o){for(this.debug("** at the end");i<s;i++)if(t[i]==="."||t[i]===".."||!n.dot&&t[i].charAt(0)===".")return!1;return!0}for(;l<s;){var p=t[l];if(this.debug(`
globstar while`,t,l,e,v,p),this.matchOne(t.slice(l),e.slice(v),r))return this.debug("globstar found match!",l,s,p),!0;if(p==="."||p===".."||!n.dot&&p.charAt(0)==="."){this.debug("dot detected!",t,l,e,v);break}this.debug("globstar swallow a segment, and continue"),l++}return!!(r&&(this.debug(`
>>> no match, partial?`,t,l,e,v),l===s))}var m;if(typeof c=="string"?(m=u===c,this.debug("string match",c,u,m)):(m=u.match(c),this.debug("pattern match",c,u,m)),!m)return!1}if(i===s&&a===o)return!0;if(i===s)return r;if(a===o)return i===s-1&&t[i]==="";throw new Error("wtf?")};function Po(t){return t.replace(/\\(.)/g,"$1")}function qo(t){return t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}});var oi=_((jl,Pr)=>{typeof Object.create=="function"?Pr.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:Pr.exports=function(e,r){if(r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e}}});var ci=_((Cl,Dr)=>{try{if(qr=require("util"),typeof qr.inherits!="function")throw"";Dr.exports=qr.inherits}catch{Dr.exports=oi()}var qr});var Kt=_((Rl,Qt)=>{"use strict";function ui(t){return t.charAt(0)==="/"}function li(t){var e=/^([a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?([\\\/])?([\s\S]*?)$/,r=e.exec(t),n=r[1]||"",i=!!(n&&n.charAt(1)!==":");return!!(r[2]||i)}Qt.exports=process.platform==="win32"?li:ui;Qt.exports.posix=ui;Qt.exports.win32=li});var Zr=_(Se=>{Se.setopts=Vo;Se.ownProp=fi;Se.makeAbs=Tt;Se.finish=Uo;Se.mark=Go;Se.isIgnored=hi;Se.childrenIgnored=zo;function fi(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var Do=require("fs"),at=require("path"),Mo=Jt(),di=Kt(),Mr=Mo.Minimatch;function Zo(t,e){return t.localeCompare(e,"en")}function $o(t,e){t.ignore=e.ignore||[],Array.isArray(t.ignore)||(t.ignore=[t.ignore]),t.ignore.length&&(t.ignore=t.ignore.map(Fo))}function Fo(t){var e=null;if(t.slice(-3)==="/**"){var r=t.replace(/(\/\*\*)+$/,"");e=new Mr(r,{dot:!0})}return{matcher:new Mr(t,{dot:!0}),gmatcher:e}}function Vo(t,e,r){if(r||(r={}),r.matchBase&&e.indexOf("/")===-1){if(r.noglobstar)throw new Error("base matching requires globstar");e="**/"+e}t.silent=!!r.silent,t.pattern=e,t.strict=r.strict!==!1,t.realpath=!!r.realpath,t.realpathCache=r.realpathCache||Object.create(null),t.follow=!!r.follow,t.dot=!!r.dot,t.mark=!!r.mark,t.nodir=!!r.nodir,t.nodir&&(t.mark=!0),t.sync=!!r.sync,t.nounique=!!r.nounique,t.nonull=!!r.nonull,t.nosort=!!r.nosort,t.nocase=!!r.nocase,t.stat=!!r.stat,t.noprocess=!!r.noprocess,t.absolute=!!r.absolute,t.fs=r.fs||Do,t.maxLength=r.maxLength||1/0,t.cache=r.cache||Object.create(null),t.statCache=r.statCache||Object.create(null),t.symlinks=r.symlinks||Object.create(null),$o(t,r),t.changedCwd=!1;var n=process.cwd();fi(r,"cwd")?(t.cwd=at.resolve(r.cwd),t.changedCwd=t.cwd!==n):t.cwd=n,t.root=r.root||at.resolve(t.cwd,"/"),t.root=at.resolve(t.root),process.platform==="win32"&&(t.root=t.root.replace(/\\/g,"/")),t.cwdAbs=di(t.cwd)?t.cwd:Tt(t,t.cwd),process.platform==="win32"&&(t.cwdAbs=t.cwdAbs.replace(/\\/g,"/")),t.nomount=!!r.nomount,r.nonegate=!0,r.nocomment=!0,r.allowWindowsEscape=!1,t.minimatch=new Mr(e,r),t.options=t.minimatch.options}function Uo(t){for(var e=t.nounique,r=e?[]:Object.create(null),n=0,i=t.matches.length;n<i;n++){var a=t.matches[n];if(!a||Object.keys(a).length===0){if(t.nonull){var s=t.minimatch.globSet[n];e?r.push(s):r[s]=!0}}else{var o=Object.keys(a);e?r.push.apply(r,o):o.forEach(function(c){r[c]=!0})}}if(e||(r=Object.keys(r)),t.nosort||(r=r.sort(Zo)),t.mark){for(var n=0;n<r.length;n++)r[n]=t._mark(r[n]);t.nodir&&(r=r.filter(function(c){var u=!/\/$/.test(c),l=t.cache[c]||t.cache[Tt(t,c)];return u&&l&&(u=l!=="DIR"&&!Array.isArray(l)),u}))}t.ignore.length&&(r=r.filter(function(c){return!hi(t,c)})),t.found=r}function Go(t,e){var r=Tt(t,e),n=t.cache[r],i=e;if(n){var a=n==="DIR"||Array.isArray(n),s=e.slice(-1)==="/";if(a&&!s?i+="/":!a&&s&&(i=i.slice(0,-1)),i!==e){var o=Tt(t,i);t.statCache[o]=t.statCache[r],t.cache[o]=t.cache[r]}}return i}function Tt(t,e){var r=e;return e.charAt(0)==="/"?r=at.join(t.root,e):di(e)||e===""?r=e:t.changedCwd?r=at.resolve(t.cwd,e):r=at.resolve(e),process.platform==="win32"&&(r=r.replace(/\\/g,"/")),r}function hi(t,e){return t.ignore.length?t.ignore.some(function(r){return r.matcher.match(e)||!!(r.gmatcher&&r.gmatcher.match(e))}):!1}function zo(t,e){return t.ignore.length?t.ignore.some(function(r){return!!(r.gmatcher&&r.gmatcher.match(e))}):!1}});var gi=_((Pl,yi)=>{yi.exports=vi;vi.GlobSync=P;var Bo=Cr(),mi=Jt(),Nl=mi.Minimatch,Il=tr().Glob,Ll=require("util"),$r=require("path"),pi=require("assert"),er=Kt(),qe=Zr(),Wo=qe.setopts,Fr=qe.ownProp,Ho=qe.childrenIgnored,Xo=qe.isIgnored;function vi(t,e){if(typeof e=="function"||arguments.length===3)throw new TypeError(`callback provided to sync glob
See: https://github.com/isaacs/node-glob/issues/167`);return new P(t,e).found}function P(t,e){if(!t)throw new Error("must provide pattern");if(typeof e=="function"||arguments.length===3)throw new TypeError(`callback provided to sync glob
See: https://github.com/isaacs/node-glob/issues/167`);if(!(this instanceof P))return new P(t,e);if(Wo(this,t,e),this.noprocess)return this;var r=this.minimatch.set.length;this.matches=new Array(r);for(var n=0;n<r;n++)this._process(this.minimatch.set[n],n,!1);this._finish()}P.prototype._finish=function(){if(pi.ok(this instanceof P),this.realpath){var t=this;this.matches.forEach(function(e,r){var n=t.matches[r]=Object.create(null);for(var i in e)try{i=t._makeAbs(i);var a=Bo.realpathSync(i,t.realpathCache);n[a]=!0}catch(s){if(s.syscall==="stat")n[t._makeAbs(i)]=!0;else throw s}})}qe.finish(this)};P.prototype._process=function(t,e,r){pi.ok(this instanceof P);for(var n=0;typeof t[n]=="string";)n++;var i;switch(n){case t.length:this._processSimple(t.join("/"),e);return;case 0:i=null;break;default:i=t.slice(0,n).join("/");break}var a=t.slice(n),s;i===null?s=".":((er(i)||er(t.map(function(u){return typeof u=="string"?u:"[*]"}).join("/")))&&(!i||!er(i))&&(i="/"+i),s=i);var o=this._makeAbs(s);if(!Ho(this,s)){var c=a[0]===mi.GLOBSTAR;c?this._processGlobStar(i,s,o,a,e,r):this._processReaddir(i,s,o,a,e,r)}};P.prototype._processReaddir=function(t,e,r,n,i,a){var s=this._readdir(r,a);if(s){for(var o=n[0],c=!!this.minimatch.negate,u=o._glob,l=this.dot||u.charAt(0)===".",v=[],p=0;p<s.length;p++){var m=s[p];if(m.charAt(0)!=="."||l){var y;c&&!t?y=!m.match(o):y=m.match(o),y&&v.push(m)}}var S=v.length;if(S!==0){if(n.length===1&&!this.mark&&!this.stat){this.matches[i]||(this.matches[i]=Object.create(null));for(var p=0;p<S;p++){var m=v[p];t&&(t.slice(-1)!=="/"?m=t+"/"+m:m=t+m),m.charAt(0)==="/"&&!this.nomount&&(m=$r.join(this.root,m)),this._emitMatch(i,m)}return}n.shift();for(var p=0;p<S;p++){var m=v[p],E;t?E=[t,m]:E=[m],this._process(E.concat(n),i,a)}}}};P.prototype._emitMatch=function(t,e){if(!Xo(this,e)){var r=this._makeAbs(e);if(this.mark&&(e=this._mark(e)),this.absolute&&(e=r),!this.matches[t][e]){if(this.nodir){var n=this.cache[r];if(n==="DIR"||Array.isArray(n))return}this.matches[t][e]=!0,this.stat&&this._stat(e)}}};P.prototype._readdirInGlobStar=function(t){if(this.follow)return this._readdir(t,!1);var e,r,n;try{r=this.fs.lstatSync(t)}catch(a){if(a.code==="ENOENT")return null}var i=r&&r.isSymbolicLink();return this.symlinks[t]=i,!i&&r&&!r.isDirectory()?this.cache[t]="FILE":e=this._readdir(t,!1),e};P.prototype._readdir=function(t,e){var r;if(e&&!Fr(this.symlinks,t))return this._readdirInGlobStar(t);if(Fr(this.cache,t)){var n=this.cache[t];if(!n||n==="FILE")return null;if(Array.isArray(n))return n}try{return this._readdirEntries(t,this.fs.readdirSync(t))}catch(i){return this._readdirError(t,i),null}};P.prototype._readdirEntries=function(t,e){if(!this.mark&&!this.stat)for(var r=0;r<e.length;r++){var n=e[r];t==="/"?n=t+n:n=t+"/"+n,this.cache[n]=!0}return this.cache[t]=e,e};P.prototype._readdirError=function(t,e){switch(e.code){case"ENOTSUP":case"ENOTDIR":var r=this._makeAbs(t);if(this.cache[r]="FILE",r===this.cwdAbs){var n=new Error(e.code+" invalid cwd "+this.cwd);throw n.path=this.cwd,n.code=e.code,n}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(t)]=!1;break;default:if(this.cache[this._makeAbs(t)]=!1,this.strict)throw e;this.silent||console.error("glob error",e);break}};P.prototype._processGlobStar=function(t,e,r,n,i,a){var s=this._readdir(r,a);if(s){var o=n.slice(1),c=t?[t]:[],u=c.concat(o);this._process(u,i,!1);var l=s.length,v=this.symlinks[r];if(!(v&&a))for(var p=0;p<l;p++){var m=s[p];if(!(m.charAt(0)==="."&&!this.dot)){var y=c.concat(s[p],o);this._process(y,i,!0);var S=c.concat(s[p],n);this._process(S,i,!0)}}}};P.prototype._processSimple=function(t,e){var r=this._stat(t);if(this.matches[e]||(this.matches[e]=Object.create(null)),!!r){if(t&&er(t)&&!this.nomount){var n=/[\/\\]$/.test(t);t.charAt(0)==="/"?t=$r.join(this.root,t):(t=$r.resolve(this.root,t),n&&(t+="/"))}process.platform==="win32"&&(t=t.replace(/\\/g,"/")),this._emitMatch(e,t)}};P.prototype._stat=function(t){var e=this._makeAbs(t),r=t.slice(-1)==="/";if(t.length>this.maxLength)return!1;if(!this.stat&&Fr(this.cache,e)){var s=this.cache[e];if(Array.isArray(s)&&(s="DIR"),!r||s==="DIR")return s;if(r&&s==="FILE")return!1}var n,i=this.statCache[e];if(!i){var a;try{a=this.fs.lstatSync(e)}catch(o){if(o&&(o.code==="ENOENT"||o.code==="ENOTDIR"))return this.statCache[e]=!1,!1}if(a&&a.isSymbolicLink())try{i=this.fs.statSync(e)}catch{i=a}else i=a}this.statCache[e]=i;var s=!0;return i&&(s=i.isDirectory()?"DIR":"FILE"),this.cache[e]=this.cache[e]||s,r&&s==="FILE"?!1:s};P.prototype._mark=function(t){return qe.mark(this,t)};P.prototype._makeAbs=function(t){return qe.makeAbs(this,t)}});var Vr=_((ql,wi)=>{wi.exports=_i;function _i(t,e){if(t&&e)return _i(t)(e);if(typeof t!="function")throw new TypeError("need wrapper function");return Object.keys(t).forEach(function(n){r[n]=t[n]}),r;function r(){for(var n=new Array(arguments.length),i=0;i<n.length;i++)n[i]=arguments[i];var a=t.apply(this,n),s=n[n.length-1];return typeof a=="function"&&a!==s&&Object.keys(s).forEach(function(o){a[o]=s[o]}),a}}});var Gr=_((Dl,Ur)=>{var bi=Vr();Ur.exports=bi(rr);Ur.exports.strict=bi(ki);rr.proto=rr(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return rr(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return ki(this)},configurable:!0})});function rr(t){var e=function(){return e.called?e.value:(e.called=!0,e.value=t.apply(this,arguments))};return e.called=!1,e}function ki(t){var e=function(){if(e.called)throw new Error(e.onceError);return e.called=!0,e.value=t.apply(this,arguments)},r=t.name||"Function wrapped with `once`";return e.onceError=r+" shouldn't be called more than once",e.called=!1,e}});var Si=_((Ml,xi)=>{var Yo=Vr(),jt=Object.create(null),Jo=Gr();xi.exports=Yo(Qo);function Qo(t,e){return jt[t]?(jt[t].push(e),null):(jt[t]=[e],Ko(t))}function Ko(t){return Jo(function e(){var r=jt[t],n=r.length,i=ec(arguments);try{for(var a=0;a<n;a++)r[a].apply(null,i)}finally{r.length>n?(r.splice(0,n),process.nextTick(function(){e.apply(null,i)})):delete jt[t]}})}function ec(t){for(var e=t.length,r=[],n=0;n<e;n++)r[n]=t[n];return r}});var tr=_((Fl,Oi)=>{Oi.exports=De;var tc=Cr(),Ei=Jt(),Zl=Ei.Minimatch,rc=ci(),nc=require("events").EventEmitter,zr=require("path"),Br=require("assert"),Ct=Kt(),Hr=gi(),Me=Zr(),ic=Me.setopts,Wr=Me.ownProp,Xr=Si(),$l=require("util"),ac=Me.childrenIgnored,sc=Me.isIgnored,oc=Gr();function De(t,e,r){if(typeof e=="function"&&(r=e,e={}),e||(e={}),e.sync){if(r)throw new TypeError("callback provided to sync glob");return Hr(t,e)}return new R(t,e,r)}De.sync=Hr;var cc=De.GlobSync=Hr.GlobSync;De.glob=De;function uc(t,e){if(e===null||typeof e!="object")return t;for(var r=Object.keys(e),n=r.length;n--;)t[r[n]]=e[r[n]];return t}De.hasMagic=function(t,e){var r=uc({},e);r.noprocess=!0;var n=new R(t,r),i=n.minimatch.set;if(!t)return!1;if(i.length>1)return!0;for(var a=0;a<i[0].length;a++)if(typeof i[0][a]!="string")return!0;return!1};De.Glob=R;rc(R,nc);function R(t,e,r){if(typeof e=="function"&&(r=e,e=null),e&&e.sync){if(r)throw new TypeError("callback provided to sync glob");return new cc(t,e)}if(!(this instanceof R))return new R(t,e,r);ic(this,t,e),this._didRealPath=!1;var n=this.minimatch.set.length;this.matches=new Array(n),typeof r=="function"&&(r=oc(r),this.on("error",r),this.on("end",function(c){r(null,c)}));var i=this;if(this._processing=0,this._emitQueue=[],this._processQueue=[],this.paused=!1,this.noprocess)return this;if(n===0)return o();for(var a=!0,s=0;s<n;s++)this._process(this.minimatch.set[s],s,!1,o);a=!1;function o(){--i._processing,i._processing<=0&&(a?process.nextTick(function(){i._finish()}):i._finish())}}R.prototype._finish=function(){if(Br(this instanceof R),!this.aborted){if(this.realpath&&!this._didRealpath)return this._realpath();Me.finish(this),this.emit("end",this.found)}};R.prototype._realpath=function(){if(this._didRealpath)return;this._didRealpath=!0;var t=this.matches.length;if(t===0)return this._finish();for(var e=this,r=0;r<this.matches.length;r++)this._realpathSet(r,n);function n(){--t===0&&e._finish()}};R.prototype._realpathSet=function(t,e){var r=this.matches[t];if(!r)return e();var n=Object.keys(r),i=this,a=n.length;if(a===0)return e();var s=this.matches[t]=Object.create(null);n.forEach(function(o,c){o=i._makeAbs(o),tc.realpath(o,i.realpathCache,function(u,l){u?u.syscall==="stat"?s[o]=!0:i.emit("error",u):s[l]=!0,--a===0&&(i.matches[t]=s,e())})})};R.prototype._mark=function(t){return Me.mark(this,t)};R.prototype._makeAbs=function(t){return Me.makeAbs(this,t)};R.prototype.abort=function(){this.aborted=!0,this.emit("abort")};R.prototype.pause=function(){this.paused||(this.paused=!0,this.emit("pause"))};R.prototype.resume=function(){if(this.paused){if(this.emit("resume"),this.paused=!1,this._emitQueue.length){var t=this._emitQueue.slice(0);this._emitQueue.length=0;for(var e=0;e<t.length;e++){var r=t[e];this._emitMatch(r[0],r[1])}}if(this._processQueue.length){var n=this._processQueue.slice(0);this._processQueue.length=0;for(var e=0;e<n.length;e++){var i=n[e];this._processing--,this._process(i[0],i[1],i[2],i[3])}}}};R.prototype._process=function(t,e,r,n){if(Br(this instanceof R),Br(typeof n=="function"),!this.aborted){if(this._processing++,this.paused){this._processQueue.push([t,e,r,n]);return}for(var i=0;typeof t[i]=="string";)i++;var a;switch(i){case t.length:this._processSimple(t.join("/"),e,n);return;case 0:a=null;break;default:a=t.slice(0,i).join("/");break}var s=t.slice(i),o;a===null?o=".":((Ct(a)||Ct(t.map(function(l){return typeof l=="string"?l:"[*]"}).join("/")))&&(!a||!Ct(a))&&(a="/"+a),o=a);var c=this._makeAbs(o);if(ac(this,o))return n();var u=s[0]===Ei.GLOBSTAR;u?this._processGlobStar(a,o,c,s,e,r,n):this._processReaddir(a,o,c,s,e,r,n)}};R.prototype._processReaddir=function(t,e,r,n,i,a,s){var o=this;this._readdir(r,a,function(c,u){return o._processReaddir2(t,e,r,n,i,a,u,s)})};R.prototype._processReaddir2=function(t,e,r,n,i,a,s,o){if(!s)return o();for(var c=n[0],u=!!this.minimatch.negate,l=c._glob,v=this.dot||l.charAt(0)===".",p=[],m=0;m<s.length;m++){var y=s[m];if(y.charAt(0)!=="."||v){var S;u&&!t?S=!y.match(c):S=y.match(c),S&&p.push(y)}}var E=p.length;if(E===0)return o();if(n.length===1&&!this.mark&&!this.stat){this.matches[i]||(this.matches[i]=Object.create(null));for(var m=0;m<E;m++){var y=p[m];t&&(t!=="/"?y=t+"/"+y:y=t+y),y.charAt(0)==="/"&&!this.nomount&&(y=zr.join(this.root,y)),this._emitMatch(i,y)}return o()}n.shift();for(var m=0;m<E;m++){var y=p[m],j;t&&(t!=="/"?y=t+"/"+y:y=t+y),this._process([y].concat(n),i,a,o)}o()};R.prototype._emitMatch=function(t,e){if(!this.aborted&&!sc(this,e)){if(this.paused){this._emitQueue.push([t,e]);return}var r=Ct(e)?e:this._makeAbs(e);if(this.mark&&(e=this._mark(e)),this.absolute&&(e=r),!this.matches[t][e]){if(this.nodir){var n=this.cache[r];if(n==="DIR"||Array.isArray(n))return}this.matches[t][e]=!0;var i=this.statCache[r];i&&this.emit("stat",e,i),this.emit("match",e)}}};R.prototype._readdirInGlobStar=function(t,e){if(this.aborted)return;if(this.follow)return this._readdir(t,!1,e);var r="lstat\0"+t,n=this,i=Xr(r,a);i&&n.fs.lstat(t,i);function a(s,o){if(s&&s.code==="ENOENT")return e();var c=o&&o.isSymbolicLink();n.symlinks[t]=c,!c&&o&&!o.isDirectory()?(n.cache[t]="FILE",e()):n._readdir(t,!1,e)}};R.prototype._readdir=function(t,e,r){if(!this.aborted&&(r=Xr("readdir\0"+t+"\0"+e,r),!!r)){if(e&&!Wr(this.symlinks,t))return this._readdirInGlobStar(t,r);if(Wr(this.cache,t)){var n=this.cache[t];if(!n||n==="FILE")return r();if(Array.isArray(n))return r(null,n)}var i=this;i.fs.readdir(t,lc(this,t,r))}};function lc(t,e,r){return function(n,i){n?t._readdirError(e,n,r):t._readdirEntries(e,i,r)}}R.prototype._readdirEntries=function(t,e,r){if(!this.aborted){if(!this.mark&&!this.stat)for(var n=0;n<e.length;n++){var i=e[n];t==="/"?i=t+i:i=t+"/"+i,this.cache[i]=!0}return this.cache[t]=e,r(null,e)}};R.prototype._readdirError=function(t,e,r){if(!this.aborted){switch(e.code){case"ENOTSUP":case"ENOTDIR":var n=this._makeAbs(t);if(this.cache[n]="FILE",n===this.cwdAbs){var i=new Error(e.code+" invalid cwd "+this.cwd);i.path=this.cwd,i.code=e.code,this.emit("error",i),this.abort()}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(t)]=!1;break;default:this.cache[this._makeAbs(t)]=!1,this.strict&&(this.emit("error",e),this.abort()),this.silent||console.error("glob error",e);break}return r()}};R.prototype._processGlobStar=function(t,e,r,n,i,a,s){var o=this;this._readdir(r,a,function(c,u){o._processGlobStar2(t,e,r,n,i,a,u,s)})};R.prototype._processGlobStar2=function(t,e,r,n,i,a,s,o){if(!s)return o();var c=n.slice(1),u=t?[t]:[],l=u.concat(c);this._process(l,i,!1,o);var v=this.symlinks[r],p=s.length;if(v&&a)return o();for(var m=0;m<p;m++){var y=s[m];if(!(y.charAt(0)==="."&&!this.dot)){var S=u.concat(s[m],c);this._process(S,i,!0,o);var E=u.concat(s[m],n);this._process(E,i,!0,o)}}o()};R.prototype._processSimple=function(t,e,r){var n=this;this._stat(t,function(i,a){n._processSimple2(t,e,i,a,r)})};R.prototype._processSimple2=function(t,e,r,n,i){if(this.matches[e]||(this.matches[e]=Object.create(null)),!n)return i();if(t&&Ct(t)&&!this.nomount){var a=/[\/\\]$/.test(t);t.charAt(0)==="/"?t=zr.join(this.root,t):(t=zr.resolve(this.root,t),a&&(t+="/"))}process.platform==="win32"&&(t=t.replace(/\\/g,"/")),this._emitMatch(e,t),i()};R.prototype._stat=function(t,e){var r=this._makeAbs(t),n=t.slice(-1)==="/";if(t.length>this.maxLength)return e();if(!this.stat&&Wr(this.cache,r)){var i=this.cache[r];if(Array.isArray(i)&&(i="DIR"),!n||i==="DIR")return e(null,i);if(n&&i==="FILE")return e()}var a,s=this.statCache[r];if(s!==void 0){if(s===!1)return e(null,s);var o=s.isDirectory()?"DIR":"FILE";return n&&o==="FILE"?e():e(null,o,s)}var c=this,u=Xr("stat\0"+r,l);u&&c.fs.lstat(r,u);function l(v,p){if(p&&p.isSymbolicLink())return c.fs.stat(r,function(m,y){m?c._stat2(t,r,null,p,e):c._stat2(t,r,m,y,e)});c._stat2(t,r,v,p,e)}};R.prototype._stat2=function(t,e,r,n,i){if(r&&(r.code==="ENOENT"||r.code==="ENOTDIR"))return this.statCache[e]=!1,i();var a=t.slice(-1)==="/";if(this.statCache[e]=n,e.slice(-1)==="/"&&n&&!n.isDirectory())return i(null,!1,n);var s=!0;return n&&(s=n.isDirectory()?"DIR":"FILE"),this.cache[e]=this.cache[e]||s,a&&s==="FILE"?i():i(null,s,n)}});var C=_(D=>{"use strict";var fc=require("os"),Ze=require("fs"),dc=tr(),Jr=Ee(),Ti=Object.create(Jr);D.extend=Object.assign;var hc=!!process.versions.electron,mc={fatal:!1,globOptions:{},maxdepth:255,noglob:!1,silent:!1,verbose:!1,execPath:null,bufLength:64*1024},se={reset:function(){Object.assign(this,mc),hc||(this.execPath=process.execPath)},resetForTesting:function(){this.reset(),this.silent=!0}};se.reset();D.config=se;var q={error:null,errorCode:0,currentCmd:"shell.js"};D.state=q;delete process.env.OLDPWD;function de(t){return typeof t=="object"&&t!==null}D.isObject=de;function ji(){se.silent||console.error.apply(console,arguments)}D.log=ji;function Ci(t){if(typeof t!="string")throw new TypeError("input must be a string");return t.replace(/\\/g,"/")}D.convertErrorOutput=Ci;function Qr(t,e,r){if(typeof t!="string")throw new Error("msg must be a string");var n={continue:!1,code:1,prefix:q.currentCmd+": ",silent:!1};typeof e=="number"&&de(r)?r.code=e:de(e)?r=e:typeof e=="number"?r={code:e}:typeof e!="number"&&(r={}),r=Object.assign({},n,r),q.errorCode||(q.errorCode=r.code);var i=Ci(r.prefix+t);if(q.error=q.error?q.error+`
`:"",q.error+=i,se.fatal)throw new Error(i);if(t.length>0&&!r.silent&&ji(i),!r.continue)throw{msg:"earlyExit",retValue:new en("",q.error,q.errorCode)}}D.error=Qr;function en(t,e,r){var n;return t instanceof Array?(n=t,n.stdout=t.join(`
`),t.length>0&&(n.stdout+=`
`)):(n=new String(t),n.stdout=t),n.stderr=e,n.code=r,Ni.forEach(function(i){n[i]=Ti[i].bind(n)}),n}D.ShellString=en;function Ri(t,e,r){if(typeof t!="string"&&!de(t))throw new Error("options must be strings or key-value pairs");if(de(e)){if(r&&!de(r))throw new Error("parseOptions() internal error: errorOptions must be object")}else throw new Error("parseOptions() internal error: map must be an object");if(t==="--")return{};var n={};if(Object.keys(e).forEach(function(a){var s=e[a];s[0]!=="!"&&(n[s]=!1)}),t==="")return n;if(typeof t=="string"){if(t[0]!=="-")throw new Error("Options string must start with a '-'");var i=t.slice(1).split("");i.forEach(function(a){if(a in e){var s=e[a];s[0]==="!"?n[s.slice(1)]=!1:n[s]=!0}else Qr("option not recognized: "+a,r||{})})}else Object.keys(t).forEach(function(a){var s=a[1];if(s in e){var o=e[s];n[o]=t[a]}else Qr("option not recognized: "+s,r||{})});return n}D.parseOptions=Ri;function Ai(t){if(!Array.isArray(t))throw new TypeError("must be an array");var e=[];return t.forEach(function(r){if(typeof r!="string")e.push(r);else{var n;try{n=dc.sync(r,se.globOptions),n=n.length>0?n:[r]}catch{n=[r]}e=e.concat(n)}}),e}D.expand=Ai;var pc=typeof Buffer.alloc=="function"?function(t){return Buffer.alloc(t||se.bufLength)}:function(t){return new Buffer(t||se.bufLength)};D.buffer=pc;function vc(t){try{Ze.unlinkSync(t)}catch(e){if(e.code==="EPERM")Ze.chmodSync(t,"0666"),Ze.unlinkSync(t);else throw e}}D.unlinkSync=vc;function yc(){return Ze.statSync.apply(Ze,arguments)}D.statFollowLinks=yc;function gc(){return Ze.lstatSync.apply(Ze,arguments)}D.statNoFollowLinks=gc;function _c(){function t(e){if(e===1)return parseInt(16*Math.random(),10).toString(16);for(var r="",n=0;n<e;n++)r+=t(1);return r}return"shelljs_"+t(20)}D.randomFileName=_c;function Kr(t,e,r){return r=r||{},function(){var n=null;q.currentCmd=t,q.error=null,q.errorCode=0;try{var i=[].slice.call(arguments,0);if(se.verbose&&console.error.apply(console,[t].concat(i)),q.pipedValue=this&&typeof this.stdout=="string"?this.stdout:"",r.unix===!1)n=e.apply(this,i);else{de(i[0])&&i[0].constructor.name==="Object"||(i.length===0||typeof i[0]!="string"||i[0].length<=1||i[0][0]!=="-")&&i.unshift(""),i=i.reduce(function(s,o){return Array.isArray(o)?s.concat(o):(s.push(o),s)},[]),i=i.map(function(s){return de(s)&&s.constructor.name==="String"?s.toString():s});var a=fc.homedir();i=i.map(function(s){return typeof s=="string"&&s.slice(0,2)==="~/"||s==="~"?s.replace(/^~/,a):s}),!se.noglob&&r.allowGlobbing===!0&&(i=i.slice(0,r.globStart).concat(Ai(i.slice(r.globStart))));try{de(r.cmdOptions)&&(i[0]=Ri(i[0],r.cmdOptions)),n=e.apply(this,i)}catch(s){if(s.msg==="earlyExit")n=s.retValue;else throw s}}}catch(s){if(!q.error)throw s.name="ShellJSInternalError",s;if(se.fatal)throw s}return r.wrapOutput&&(typeof n=="string"||Array.isArray(n))&&(n=new en(n,q.error,q.errorCode)),q.currentCmd="shell.js",n}}D.wrap=Kr;function wc(){return q.pipedValue}D.readFromPipe=wc;var Yr={allowGlobbing:!0,canReceivePipe:!1,cmdOptions:null,globStart:1,pipeOnly:!1,wrapOutput:!0,unix:!0},Ni=[];function bc(t,e,r){if(r=r||{},Object.keys(r).forEach(function(n){if(!Yr.hasOwnProperty(n))throw new Error("Unknown option '"+n+"'");if(typeof r[n]!=typeof Yr[n])throw new TypeError("Unsupported type '"+typeof r[n]+"' for option '"+n+"'")}),r=Object.assign({},Yr,r),Jr.hasOwnProperty(t))throw new Error("Command `"+t+"` already exists");r.pipeOnly?(r.canReceivePipe=!0,Ti[t]=Kr(t,e,r)):Jr[t]=Kr(t,e,r),r.canReceivePipe&&Ni.push(t)}D.register=bc});var Di=_((Ul,qi)=>{var st=C(),Ii=require("fs");st.register("cat",Pi,{canReceivePipe:!0,cmdOptions:{n:"number"}});function Pi(t,e){var r=st.readFromPipe();return!e&&!r&&st.error("no paths given"),e=[].slice.call(arguments,1),e.forEach(function(n){Ii.existsSync(n)?st.statFollowLinks(n).isDirectory()&&st.error(n+": Is a directory"):st.error("no such file or directory: "+n),r+=Ii.readFileSync(n,"utf8")}),t.number&&(r=kc(r)),r}qi.exports=Pi;function kc(t){var e=t.split(`
`),r=e.pop();return e=e.map(function(n,i){return Li(i+1,n)}),r.length&&(r=Li(e.length+1,r)),e.push(r),e.join(`
`)}function Li(t,e){var r=("     "+t).slice(-6)+"	";return r+e}});var tn=_((Gl,Zi)=>{var xc=require("os"),nr=C();nr.register("cd",Mi,{});function Mi(t,e){e||(e=xc.homedir()),e==="-"&&(process.env.OLDPWD?e=process.env.OLDPWD:nr.error("could not find previous directory"));try{var r=process.cwd();process.chdir(e),process.env.OLDPWD=r}catch{var n;try{nr.statFollowLinks(e),n="not a directory: "+e}catch{n="no such file or directory: "+e}n&&nr.error(n)}return""}Zi.exports=Mi});var Vi=_((zl,Fi)=>{var re=C(),ir=require("fs"),Sc=require("path"),$=function(t){return{OTHER_EXEC:t.EXEC,OTHER_WRITE:t.WRITE,OTHER_READ:t.READ,GROUP_EXEC:t.EXEC<<3,GROUP_WRITE:t.WRITE<<3,GROUP_READ:t.READ<<3,OWNER_EXEC:t.EXEC<<6,OWNER_WRITE:t.WRITE<<6,OWNER_READ:t.READ<<6,STICKY:parseInt("01000",8),SETGID:parseInt("02000",8),SETUID:parseInt("04000",8),TYPE_MASK:parseInt("0770000",8)}}({EXEC:1,WRITE:2,READ:4});re.register("chmod",$i,{});function $i(t,e,r){r||(t.length>0&&t.charAt(0)==="-"?[].unshift.call(arguments,""):re.error("You must specify a file.")),t=re.parseOptions(t,{R:"recursive",c:"changes",v:"verbose"}),r=[].slice.call(arguments,2);var n;return t.recursive?(n=[],r.forEach(function i(a){var s=re.statNoFollowLinks(a);s.isSymbolicLink()||(n.push(a),s.isDirectory()&&ir.readdirSync(a).forEach(function(o){i(a+"/"+o)}))})):n=r,n.forEach(function(a){if(a=Sc.resolve(a),ir.existsSync(a)||re.error("File not found: "+a),!(t.recursive&&re.statNoFollowLinks(a).isSymbolicLink())){var s=re.statFollowLinks(a),o=s.isDirectory(),c=s.mode,u=c&$.TYPE_MASK,l=c;isNaN(parseInt(e,8))?e.split(",").forEach(function(v){var p=/([ugoa]*)([=\+-])([rwxXst]*)/i,m=p.exec(v);if(m){var y=m[1],S=m[2],E=m[3],j=y.indexOf("u")!==-1||y==="a"||y==="",A=y.indexOf("g")!==-1||y==="a"||y==="",M=y.indexOf("o")!==-1||y==="a"||y==="",L=E.indexOf("r")!==-1,U=E.indexOf("w")!==-1,ue=E.indexOf("x")!==-1,ge=E.indexOf("X")!==-1,le=E.indexOf("t")!==-1,J=E.indexOf("s")!==-1;ge&&o&&(ue=!0);var Q=0;switch(j&&(Q|=(L?$.OWNER_READ:0)+(U?$.OWNER_WRITE:0)+(ue?$.OWNER_EXEC:0)+(J?$.SETUID:0)),A&&(Q|=(L?$.GROUP_READ:0)+(U?$.GROUP_WRITE:0)+(ue?$.GROUP_EXEC:0)+(J?$.SETGID:0)),M&&(Q|=(L?$.OTHER_READ:0)+(U?$.OTHER_WRITE:0)+(ue?$.OTHER_EXEC:0)),le&&(Q|=$.STICKY),S){case"+":l|=Q;break;case"-":l&=~Q;break;case"=":l=u+Q,re.statFollowLinks(a).isDirectory()&&(l|=$.SETUID+$.SETGID&c);break;default:re.error("Could not recognize operator: `"+S+"`")}t.verbose&&console.log(a+" -> "+l.toString(8)),c!==l&&(!t.verbose&&t.changes&&console.log(a+" -> "+l.toString(8)),ir.chmodSync(a,l),c=l)}else re.error("Invalid symbolic mode change: "+v)}):(l=u+parseInt(e,8),re.statFollowLinks(a).isDirectory()&&(l|=$.SETUID+$.SETGID&c),ir.chmodSync(a,l))}}),""}Fi.exports=$i});var an=_((Bl,Gi)=>{var N=require("fs"),Oe=require("path"),T=C();T.register("cp",Ui,{cmdOptions:{f:"!no_force",n:"no_force",u:"update",R:"recursive",r:"recursive",L:"followsymlink",P:"noFollowsymlink"},wrapOutput:!1});function rn(t,e,r){N.existsSync(t)||T.error("copyFileSync: no such file or directory: "+t);var n=process.platform==="win32";try{if(r.update&&T.statFollowLinks(t).mtime<N.statSync(e).mtime)return}catch{}if(T.statNoFollowLinks(t).isSymbolicLink()&&!r.followsymlink){try{T.statNoFollowLinks(e),T.unlinkSync(e)}catch{}var i=N.readlinkSync(t);N.symlinkSync(i,e,n?"junction":null)}else{var a=T.buffer(),s=a.length,o=s,c=0,u=null,l=null;try{u=N.openSync(t,"r")}catch{T.error("copyFileSync: could not read src file ("+t+")")}try{l=N.openSync(e,"w")}catch(v){T.error("copyFileSync: could not write to dest file (code="+v.code+"):"+e)}for(;o===s;)o=N.readSync(u,a,0,s,c),N.writeSync(l,a,0,o),c+=o;N.closeSync(u),N.closeSync(l),N.chmodSync(e,T.statFollowLinks(t).mode)}}function nn(t,e,r,n){if(n||(n={}),!(r>=T.config.maxdepth)){r++;var i=process.platform==="win32";try{N.mkdirSync(e)}catch(p){if(p.code!=="EEXIST")throw p}for(var a=N.readdirSync(t),s=0;s<a.length;s++){var o=t+"/"+a[s],c=e+"/"+a[s],u=T.statNoFollowLinks(o),l;if(n.followsymlink&&Oc(t,o)){console.error("Cycle link found."),l=N.readlinkSync(o),N.symlinkSync(l,c,i?"junction":null);continue}if(u.isDirectory())nn(o,c,r,n);else if(u.isSymbolicLink()&&!n.followsymlink){l=N.readlinkSync(o);try{T.statNoFollowLinks(c),T.unlinkSync(c)}catch{}N.symlinkSync(l,c,i?"junction":null)}else u.isSymbolicLink()&&n.followsymlink?(u=T.statFollowLinks(o),u.isDirectory()?nn(o,c,r,n):rn(o,c,n)):N.existsSync(c)&&n.no_force?T.log("skipping existing file: "+a[s]):rn(o,c,n)}var v=T.statFollowLinks(t);N.chmodSync(e,v.mode)}}function Ec(t,e){var r=t[e];return t.slice(0,e).some(function(n){return Oe.basename(n)===Oe.basename(r)})}function Oc(t,e){var r=T.statNoFollowLinks(e);if(r.isSymbolicLink()){var n=T.statFollowLinks(e);if(n.isDirectory()){var i=N.realpathSync(t),a=N.realpathSync(e),s=new RegExp(a);if(s.test(i))return!0}}return!1}function Ui(t,e,r){t.followsymlink&&(t.noFollowsymlink=!1),!t.recursive&&!t.noFollowsymlink&&(t.followsymlink=!0),arguments.length<3?T.error("missing <source> and/or <dest>"):(e=[].slice.call(arguments,1,arguments.length-1),r=arguments[arguments.length-1]);var n=N.existsSync(r),i=n&&T.statFollowLinks(r);return(!n||!i.isDirectory())&&e.length>1&&T.error("dest is not a directory (too many sources)"),n&&i.isFile()&&t.no_force?new T.ShellString("","",0):(e.forEach(function(a,s){if(!N.existsSync(a)){a===""&&(a="''"),T.error("no such file or directory: "+a,{continue:!0});return}var o=T.statFollowLinks(a);if(!t.noFollowsymlink&&o.isDirectory())if(!t.recursive)T.error("omitting directory '"+a+"'",{continue:!0});else{var c=i&&i.isDirectory()?Oe.join(r,Oe.basename(a)):r;try{T.statFollowLinks(Oe.dirname(r)),nn(a,c,0,{no_force:t.no_force,followsymlink:t.followsymlink})}catch{T.error("cannot create directory '"+r+"': No such file or directory")}}else{var u=r;i&&i.isDirectory()&&(u=Oe.normalize(r+"/"+Oe.basename(a)));var l=N.existsSync(u);if(l&&Ec(e,s)){t.no_force||T.error("will not overwrite just-created '"+u+"' with '"+a+"'",{continue:!0});return}if(l&&t.no_force)return;if(Oe.relative(a,u)===""){T.error("'"+u+"' and '"+a+"' are the same file",{continue:!0});return}rn(a,u,t)}}),new T.ShellString("",T.state.error,T.state.errorCode))}Gi.exports=Ui});var Yi=_(sr=>{var K=C(),zi=tn(),Bi=require("path");K.register("dirs",ar,{wrapOutput:!1});K.register("pushd",Hi,{wrapOutput:!1});K.register("popd",Xi,{wrapOutput:!1});var he=[];function Rt(t){return/^[\-+]\d+$/.test(t)}function sn(t){if(Rt(t)){if(Math.abs(t)<he.length+1)return/^-/.test(t)?Number(t)-1:Number(t);K.error(t+": directory stack index out of range")}else K.error(t+": invalid number")}function Wi(){return[process.cwd()].concat(he)}function Hi(t,e){Rt(t)&&(e=t,t=""),t=K.parseOptions(t,{n:"no-cd",q:"quiet"});var r=Wi();if(e==="+0")return r;if(e)if(Rt(e)){var n=sn(e);r=r.slice(n).concat(r.slice(0,n))}else t["no-cd"]?r.splice(1,0,e):r.unshift(e);else if(r.length>1)r=r.splice(1,1).concat(r);else return K.error("no other directory");return t["no-cd"]?r=r.slice(1):(e=Bi.resolve(r.shift()),zi("",e)),he=r,ar(t.quiet?"-q":"")}sr.pushd=Hi;function Xi(t,e){if(Rt(t)&&(e=t,t=""),t=K.parseOptions(t,{n:"no-cd",q:"quiet"}),!he.length)return K.error("directory stack empty");if(e=sn(e||"+0"),t["no-cd"]||e>0||he.length+e===0)e=e>0?e-1:e,he.splice(e,1);else{var r=Bi.resolve(he.shift());zi("",r)}return ar(t.quiet?"-q":"")}sr.popd=Xi;function ar(t,e){if(Rt(t)&&(e=t,t=""),t=K.parseOptions(t,{c:"clear",q:"quiet"}),t.clear)return he=[],he;var r=Wi();return e?(e=sn(e),e<0&&(e=r.length+e),t.quiet||K.log(r[e]),r[e]):(t.quiet||K.log(r.join(" ")),r)}sr.dirs=ar});var Ki=_((Hl,Qi)=>{var Tc=require("util").format,on=C();on.register("echo",Ji,{allowGlobbing:!1});function Ji(t){var e=[].slice.call(arguments,t?0:1),r={};try{r=on.parseOptions(e[0],{e:"escapes",n:"no_newline"},{silent:!0}),e[0]&&e.shift()}catch{on.state.error=null}var n=Tc.apply(null,e);return r.no_newline||(n+=`
`),process.stdout.write(n),n}Qi.exports=Ji});var cn=_((Xl,ea)=>{var jc=C();function Cc(){return jc.state.error}ea.exports=Cc});var na=_((Yl,ra)=>{if(require.main!==ra)throw new Error("This file should not be required");var Rc=require("child_process"),un=require("fs"),Ac=process.argv[2],Nc=un.readFileSync(Ac,"utf8"),At=JSON.parse(Nc),Ic=At.command,Lc=At.execOptions,ta=At.pipe,Pc=At.stdoutFile,qc=At.stderrFile,Nt=Rc.exec(Ic,Lc,function(t){t?t.code===void 0?process.exitCode=1:process.exitCode=t.code:process.exitCode=0}),Dc=un.createWriteStream(Pc),Mc=un.createWriteStream(qc);Nt.stdout.pipe(Dc);Nt.stderr.pipe(Mc);Nt.stdout.pipe(process.stdout);Nt.stderr.pipe(process.stderr);ta&&Nt.stdin.end(ta)});var ln=_((Jl,cr)=>{var or=C(),Zc=require("os"),ia=require("fs");or.register("tempdir",aa,{allowGlobbing:!1,wrapOutput:!1});function H(t){if(!t||!ia.existsSync(t)||!or.statFollowLinks(t).isDirectory())return!1;var e=t+"/"+or.randomFileName();try{return ia.writeFileSync(e," "),or.unlinkSync(e),t}catch{return!1}}var ot;function aa(){return ot||(ot=H(Zc.tmpdir())||H(process.env.TMPDIR)||H(process.env.TEMP)||H(process.env.TMP)||H(process.env.Wimp$ScrapDir)||H("C:\\TEMP")||H("C:\\TMP")||H("\\TEMP")||H("\\TMP")||H("/tmp")||H("/var/tmp")||H("/usr/tmp")||H("."),ot)}function $c(){return ot}function Fc(){ot=void 0}cr.exports.tempDir=aa;cr.exports.isCached=$c;cr.exports.clearCache=Fc});var fn=_((Ql,oa)=>{var Vc=require("path"),Uc=C();Uc.register("pwd",sa,{allowGlobbing:!1});function sa(){var t=Vc.resolve(process.cwd());return t}oa.exports=sa});var ha=_((Kl,da)=>{var I=C(),Gc=ln().tempDir,ca=fn(),It=require("path"),Te=require("fs"),ua=require("child_process"),la=20*1024*1024,zc=1;I.register("exec",fa,{unix:!1,canReceivePipe:!0,wrapOutput:!1});function Bc(t,e,r){I.config.execPath||I.error("Unable to find a path to the node binary. Please manually set config.execPath");var n=Gc(),i=It.resolve(n+"/"+I.randomFileName()),a=It.resolve(n+"/"+I.randomFileName()),s=It.resolve(n+"/"+I.randomFileName());e=I.extend({silent:I.config.silent,cwd:ca().toString(),env:process.env,maxBuffer:la,encoding:"utf8"},e),Te.existsSync(i)&&I.unlinkSync(i),Te.existsSync(a)&&I.unlinkSync(a),Te.existsSync(s)&&I.unlinkSync(s),e.cwd=It.resolve(e.cwd);var o={command:t,execOptions:e,pipe:r,stdoutFile:s,stderrFile:a};function c(y,S){Te.writeFileSync(y,S,{encoding:"utf8",mode:parseInt("600",8)})}c(s,""),c(a,""),c(i,JSON.stringify(o));var u=[It.join(__dirname,"exec-child.js"),i];e.silent?e.stdio="ignore":e.stdio=[0,1,2];var l=0;try{delete e.shell,ua.execFileSync(I.config.execPath,u,e)}catch(y){l=y.status||zc}var v="",p="";e.encoding==="buffer"?(v=Te.readFileSync(s),p=Te.readFileSync(a)):(v=Te.readFileSync(s,e.encoding),p=Te.readFileSync(a,e.encoding));try{I.unlinkSync(i)}catch{}try{I.unlinkSync(a)}catch{}try{I.unlinkSync(s)}catch{}l!==0&&I.error(p,l,{continue:!0,silent:!0});var m=I.ShellString(v,p,l);return m}function Wc(t,e,r,n){e=I.extend({silent:I.config.silent,cwd:ca().toString(),env:process.env,maxBuffer:la,encoding:"utf8"},e);var i=ua.exec(t,e,function(a,s,o){n&&(a?a.code===void 0?n(1,s,o):n(a.code,s,o):n(0,s,o))});return r&&i.stdin.end(r),e.silent||(i.stdout.pipe(process.stdout),i.stderr.pipe(process.stderr)),i}function fa(t,e,r){e=e||{},t||I.error("must specify command");var n=I.readFromPipe();return typeof e=="function"&&(r=e,e={async:!0}),typeof e=="object"&&typeof r=="function"&&(e.async=!0),e=I.extend({silent:I.config.silent,async:!1},e),e.async?Wc(t,e,n,r):Bc(t,e,n)}da.exports=fa});var dn=_((ef,va)=>{var Lt=require("path"),ma=require("fs"),je=C(),Hc=tr(),Xc=Lt.sep+"**";je.register("ls",pa,{cmdOptions:{R:"recursive",A:"all",L:"link",a:"all_deprecated",d:"directory",l:"long"}});function pa(t,e){t.all_deprecated&&(je.log("ls: Option -a is deprecated. Use -A instead"),t.all=!0),e?e=[].slice.call(arguments,1):e=["."];var r=[];function n(i,a,s){process.platform==="win32"&&(a=a.replace(/\\/g,"/")),t.long?(s=s||(t.link?je.statFollowLinks(i):je.statNoFollowLinks(i)),r.push(Yc(a,s))):r.push(a)}return e.forEach(function(i){var a;try{if(a=t.link?je.statFollowLinks(i):je.statNoFollowLinks(i),a.isSymbolicLink())try{var s=je.statFollowLinks(i);s.isDirectory()&&(a=s)}catch{}}catch{je.error("no such file or directory: "+i,2,{continue:!0});return}a.isDirectory()&&!t.directory?t.recursive?Hc.sync(i+Xc,{dot:t.all,follow:t.link}).forEach(function(o){Lt.relative(i,o)&&n(o,Lt.relative(i,o))}):t.all?ma.readdirSync(i).forEach(function(o){n(Lt.join(i,o),o)}):ma.readdirSync(i).forEach(function(o){o[0]!=="."&&n(Lt.join(i,o),o)}):n(i,i,a)}),r}function Yc(t,e){return e.name=t,e.toString=function(){return[this.mode,this.nlink,this.uid,this.gid,this.size,this.mtime,this.name].join(" ")},e}va.exports=pa});var _a=_((tf,ga)=>{var Jc=require("path"),ur=C(),Qc=dn();ur.register("find",ya,{});function ya(t,e){e?typeof e=="string"&&(e=[].slice.call(arguments,1)):ur.error("no path specified");var r=[];function n(i){process.platform==="win32"&&(i=i.replace(/\\/g,"/")),r.push(i)}return e.forEach(function(i){var a;try{a=ur.statFollowLinks(i)}catch{ur.error("no such file or directory: "+i)}n(i),a.isDirectory()&&Qc({recursive:!0,all:!0},i).forEach(function(s){n(Jc.join(i,s))})}),r}ga.exports=ya});var xa=_((rf,ka)=>{var lr=C(),wa=require("fs");lr.register("grep",ba,{globStart:2,canReceivePipe:!0,cmdOptions:{v:"inverse",l:"nameOnly",i:"ignoreCase"}});function ba(t,e,r){var n=lr.readFromPipe();!r&&!n&&lr.error("no paths given",2),r=[].slice.call(arguments,2),n&&r.unshift("-");var i=[];return t.ignoreCase&&(e=new RegExp(e,"i")),r.forEach(function(a){if(!wa.existsSync(a)&&a!=="-"){lr.error("no such file or directory: "+a,2,{continue:!0});return}var s=a==="-"?n:wa.readFileSync(a,"utf8");if(t.nameOnly)s.match(e)&&i.push(a);else{var o=s.split(`
`);o.forEach(function(c){var u=c.match(e);(t.inverse&&!u||!t.inverse&&u)&&i.push(c)})}}),i.join(`
`)+`
`}ka.exports=ba});var Oa=_((nf,Ea)=>{var $e=C(),Pt=require("fs");$e.register("head",Sa,{canReceivePipe:!0,cmdOptions:{n:"numLines"}});function Kc(t,e){for(var r=$e.buffer(),n=r.length,i=n,a=0,s=Pt.openSync(t,"r"),o=0,c="";i===n&&o<e;){i=Pt.readSync(s,r,0,n,a);var u=r.toString("utf8",0,i);o+=u.split(`
`).length-1,c+=u,a+=i}return Pt.closeSync(s),c}function Sa(t,e){var r=[],n=$e.readFromPipe();!e&&!n&&$e.error("no paths given");var i=1;t.numLines===!0?(i=2,t.numLines=Number(arguments[1])):t.numLines===!1&&(t.numLines=10),e=[].slice.call(arguments,i),n&&e.unshift("-");var a=!1;return e.forEach(function(s){if(s!=="-")if(Pt.existsSync(s)){if($e.statFollowLinks(s).isDirectory()){$e.error("error reading '"+s+"': Is a directory",{continue:!0});return}}else{$e.error("no such file or directory: "+s,{continue:!0});return}var o;s==="-"?o=n:t.numLines<0?o=Pt.readFileSync(s,"utf8"):o=Kc(s,t.numLines);var c=o.split(`
`),u=c[c.length-1]==="";u&&c.pop(),a=u||t.numLines<c.length,r=r.concat(c.slice(0,t.numLines))}),a&&r.push(""),r.join(`
`)}Ea.exports=Sa});var Ca=_((af,ja)=>{var ct=require("fs"),ut=require("path"),Ce=C();Ce.register("ln",Ta,{cmdOptions:{s:"symlink",f:"force"}});function Ta(t,e,r){(!e||!r)&&Ce.error("Missing <source> and/or <dest>"),e=String(e);var n=ut.normalize(e).replace(RegExp(ut.sep+"$"),""),i=ut.resolve(e)===n;if(r=ut.resolve(process.cwd(),String(r)),ct.existsSync(r)&&(t.force||Ce.error("Destination file exists",{continue:!0}),ct.unlinkSync(r)),t.symlink){var a=process.platform==="win32",s=a?"file":null,o=i?n:ut.resolve(process.cwd(),ut.dirname(r),e);ct.existsSync(o)?a&&Ce.statFollowLinks(o).isDirectory()&&(s="junction"):Ce.error("Source file does not exist",{continue:!0});try{ct.symlinkSync(s==="junction"?o:e,r,s)}catch(c){Ce.error(c.message)}}else{ct.existsSync(e)||Ce.error("Source file does not exist",{continue:!0});try{ct.linkSync(e,r)}catch(c){Ce.error(c.message)}}return""}ja.exports=Ta});var Ia=_((sf,Na)=>{var Re=C(),qt=require("fs"),hn=require("path");Re.register("mkdir",Aa,{cmdOptions:{p:"fullpath"}});function Ra(t){var e=hn.dirname(t);if(e===t&&Re.error("dirname() failed: ["+t+"]"),qt.existsSync(e)){qt.mkdirSync(t,parseInt("0777",8));return}Ra(e),qt.mkdirSync(t,parseInt("0777",8))}function Aa(t,e){return e||Re.error("no paths given"),typeof e=="string"&&(e=[].slice.call(arguments,1)),e.forEach(function(r){try{var n=Re.statNoFollowLinks(r);t.fullpath?n.isFile()&&Re.error("cannot create directory "+r+": File exists",{continue:!0}):Re.error("path already exists: "+r,{continue:!0});return}catch{}var i=hn.dirname(r);if(!qt.existsSync(i)&&!t.fullpath){Re.error("no such file or directory: "+i,{continue:!0});return}try{t.fullpath?Ra(hn.resolve(r)):qt.mkdirSync(r,parseInt("0777",8))}catch(s){var a;if(s.code==="EACCES")a="Permission denied";else if(s.code==="ENOTDIR"||s.code==="ENOENT")a="Not a directory";else throw s;Re.error("cannot create directory "+r+": "+a,{continue:!0})}}),""}Na.exports=Aa});var pn=_((of,qa)=>{var F=C(),Dt=require("fs");F.register("rm",Pa,{cmdOptions:{f:"force",r:"recursive",R:"recursive"}});function mn(t,e,r){var n;n=Dt.readdirSync(t);for(var i=0;i<n.length;i++){var a=t+"/"+n[i],s=F.statNoFollowLinks(a);if(s.isDirectory())mn(a,e);else if(e||La(a))try{F.unlinkSync(a)}catch(u){F.error("could not remove file (code "+u.code+"): "+a,{continue:!0})}}if(!r){var o;try{for(var c=Date.now();;)try{if(o=Dt.rmdirSync(t),Dt.existsSync(t))throw{code:"EAGAIN"};break}catch(u){if(process.platform==="win32"&&(u.code==="ENOTEMPTY"||u.code==="EBUSY"||u.code==="EPERM"||u.code==="EAGAIN")){if(Date.now()-c>1e3)throw u}else{if(u.code==="ENOENT")break;throw u}}}catch(u){F.error("could not remove directory (code "+u.code+"): "+t,{continue:!0})}return o}}function La(t){var e=!0;try{var r=Dt.openSync(t,"a");Dt.closeSync(r)}catch{e=!1}return e}function eu(t,e){e.force||La(t)?F.unlinkSync(t):F.error("permission denied: "+t,{continue:!0})}function tu(t,e){e.recursive?mn(t,e.force):F.error("path is a directory",{continue:!0})}function ru(t,e){var r;try{r=F.statFollowLinks(t)}catch{F.unlinkSync(t);return}if(r.isFile())F.unlinkSync(t);else if(r.isDirectory())if(t[t.length-1]==="/")if(e.recursive){var n=!0;mn(t,e.force,n)}else F.error("path is a directory",{continue:!0});else F.unlinkSync(t)}function nu(t){F.unlinkSync(t)}function Pa(t,e){return e||F.error("no paths given"),e=[].slice.call(arguments,1),e.forEach(function(r){var n;try{var i=r[r.length-1]==="/"?r.slice(0,-1):r;n=F.statNoFollowLinks(i)}catch{t.force||F.error("no such file or directory: "+r,{continue:!0});return}n.isFile()?eu(r,t):n.isDirectory()?tu(r,t):n.isSymbolicLink()?ru(r,t):n.isFIFO()&&nu(r)}),""}qa.exports=Pa});var Za=_((cf,Ma)=>{var lt=require("fs"),Fe=require("path"),ne=C(),iu=an(),au=pn();ne.register("mv",Da,{cmdOptions:{f:"!no_force",n:"no_force"}});function su(t,e){var r=t[e];return t.slice(0,e).some(function(n){return Fe.basename(n)===Fe.basename(r)})}function Da(t,e,r){arguments.length<3?ne.error("missing <source> and/or <dest>"):arguments.length>3?(e=[].slice.call(arguments,1,arguments.length-1),r=arguments[arguments.length-1]):typeof e=="string"?e=[e]:ne.error("invalid arguments");var n=lt.existsSync(r),i=n&&ne.statFollowLinks(r);return(!n||!i.isDirectory())&&e.length>1&&ne.error("dest is not a directory (too many sources)"),n&&i.isFile()&&t.no_force&&ne.error("dest file already exists: "+r),e.forEach(function(a,s){if(!lt.existsSync(a)){ne.error("no such file or directory: "+a,{continue:!0});return}var o=r;lt.existsSync(r)&&ne.statFollowLinks(r).isDirectory()&&(o=Fe.normalize(r+"/"+Fe.basename(a)));var c=lt.existsSync(o);if(c&&su(e,s)){t.no_force||ne.error("will not overwrite just-created '"+o+"' with '"+a+"'",{continue:!0});return}if(lt.existsSync(o)&&t.no_force){ne.error("dest file already exists: "+o,{continue:!0});return}if(Fe.resolve(a)===Fe.dirname(Fe.resolve(o))){ne.error("cannot move to self: "+a,{continue:!0});return}try{lt.renameSync(a,o)}catch(u){u.code==="EXDEV"&&(iu("-r",a,o),au("-rf",a))}}),""}Ma.exports=Da});var $a=_(()=>{});var Fa=_(()=>{});var Ga=_((hf,Ua)=>{var Mt=C(),vn=require("fs");Mt.register("sed",Va,{globStart:3,canReceivePipe:!0,cmdOptions:{i:"inplace"}});function Va(t,e,r,n){var i=Mt.readFromPipe();typeof r!="string"&&typeof r!="function"&&(typeof r=="number"?r=r.toString():Mt.error("invalid replacement string")),typeof e=="string"&&(e=RegExp(e)),!n&&!i&&Mt.error("no files given"),n=[].slice.call(arguments,3),i&&n.unshift("-");var a=[];return n.forEach(function(s){if(!vn.existsSync(s)&&s!=="-"){Mt.error("no such file or directory: "+s,2,{continue:!0});return}var o=s==="-"?i:vn.readFileSync(s,"utf8"),c=o.split(`
`),u=c.map(function(l){return l.replace(e,r)}).join(`
`);a.push(u),t.inplace&&vn.writeFileSync(s,u,"utf8")}),a.join(`
`)}Ua.exports=Va});var Wa=_((mf,Ba)=>{var fr=C();fr.register("set",za,{allowGlobbing:!1,wrapOutput:!1});function za(t){if(!t){var e=[].slice.call(arguments,0);e.length<2&&fr.error("must provide an argument"),t=e[1]}var r=t[0]==="+";r&&(t="-"+t.slice(1)),t=fr.parseOptions(t,{e:"fatal",v:"verbose",f:"noglob"}),r&&Object.keys(t).forEach(function(n){t[n]=!t[n]}),Object.keys(t).forEach(function(n){r!==t[n]&&(fr.config[n]=t[n])})}Ba.exports=za});var Qa=_((pf,Ja)=>{var ft=C(),Ha=require("fs");ft.register("sort",Ya,{canReceivePipe:!0,cmdOptions:{r:"reverse",n:"numerical"}});function Xa(t){var e=t.match(/^\s*(\d*)\s*(.*)$/);return{num:Number(e[1]),value:e[2]}}function yn(t,e){var r=t.toLowerCase(),n=e.toLowerCase();return r===n?-1*t.localeCompare(e):r.localeCompare(n)}function ou(t,e){var r=Xa(t),n=Xa(e);return r.hasOwnProperty("num")&&n.hasOwnProperty("num")&&r.num!==n.num?r.num-n.num:yn(r.value,n.value)}function Ya(t,e){var r=ft.readFromPipe();!e&&!r&&ft.error("no files given"),e=[].slice.call(arguments,1),r&&e.unshift("-");var n=e.reduce(function(a,s){if(s!=="-")if(Ha.existsSync(s)){if(ft.statFollowLinks(s).isDirectory())return ft.error("read failed: "+s+": Is a directory",{continue:!0}),a}else return ft.error("no such file or directory: "+s,{continue:!0}),a;var o=s==="-"?r:Ha.readFileSync(s,"utf8");return a.concat(o.trimRight().split(`
`))},[]),i=n.sort(t.numerical?ou:yn);return t.reverse&&(i=i.reverse()),i.join(`
`)+`
`}Ja.exports=Ya});var rs=_((vf,ts)=>{var dt=C(),Ka=require("fs");dt.register("tail",es,{canReceivePipe:!0,cmdOptions:{n:"numLines"}});function es(t,e){var r=[],n=dt.readFromPipe();!e&&!n&&dt.error("no paths given");var i=1;t.numLines===!0?(i=2,t.numLines=Number(arguments[1])):t.numLines===!1&&(t.numLines=10),t.numLines=-1*Math.abs(t.numLines),e=[].slice.call(arguments,i),n&&e.unshift("-");var a=!1;return e.forEach(function(s){if(s!=="-")if(Ka.existsSync(s)){if(dt.statFollowLinks(s).isDirectory()){dt.error("error reading '"+s+"': Is a directory",{continue:!0});return}}else{dt.error("no such file or directory: "+s,{continue:!0});return}var o=s==="-"?n:Ka.readFileSync(s,"utf8"),c=o.split(`
`);c[c.length-1]===""?(c.pop(),a=!0):a=!1,r=r.concat(c.slice(t.numLines))}),a&&r.push(""),r.join(`
`)}ts.exports=es});var as=_((yf,is)=>{var Zt=C(),cu=require("fs");Zt.register("test",ns,{cmdOptions:{b:"block",c:"character",d:"directory",e:"exists",f:"file",L:"link",p:"pipe",S:"socket"},wrapOutput:!1,allowGlobbing:!1});function ns(t,e){e||Zt.error("no path given");var r=!1;if(Object.keys(t).forEach(function(i){t[i]===!0&&(r=!0)}),r||Zt.error("could not interpret expression"),t.link)try{return Zt.statNoFollowLinks(e).isSymbolicLink()}catch{return!1}if(!cu.existsSync(e))return!1;if(t.exists)return!0;var n=Zt.statFollowLinks(e);return t.block?n.isBlockDevice():t.character?n.isCharacterDevice():t.directory?n.isDirectory():t.file?n.isFile():t.pipe?n.isFIFO():t.socket?n.isSocket():!1}is.exports=ns});var ls=_((gf,us)=>{var dr=C(),ss=require("fs"),os=require("path");dr.register("to",cs,{pipeOnly:!0,wrapOutput:!1});function cs(t,e){e||dr.error("wrong arguments"),ss.existsSync(os.dirname(e))||dr.error("no such file or directory: "+os.dirname(e));try{return ss.writeFileSync(e,this.stdout||this.toString(),"utf8"),this}catch(r){dr.error("could not write to file (code "+r.code+"): "+e,{continue:!0})}}us.exports=cs});var ps=_((_f,ms)=>{var hr=C(),fs=require("fs"),ds=require("path");hr.register("toEnd",hs,{pipeOnly:!0,wrapOutput:!1});function hs(t,e){e||hr.error("wrong arguments"),fs.existsSync(ds.dirname(e))||hr.error("no such file or directory: "+ds.dirname(e));try{return fs.appendFileSync(e,this.stdout||this.toString(),"utf8"),this}catch(r){hr.error("could not append to file (code "+r.code+"): "+e,{continue:!0})}}ms.exports=hs});var _s=_((wf,gs)=>{var $t=C(),gn=require("fs");$t.register("touch",ys,{cmdOptions:{a:"atime_only",c:"no_create",d:"date",m:"mtime_only",r:"reference"}});function ys(t,e){return e?typeof e=="string"?e=[].slice.call(arguments,1):$t.error("file arg should be a string file path or an Array of string file paths"):$t.error("no files given"),e.forEach(function(r){uu(t,r)}),""}function uu(t,e){var r=vs(e);if(!(r&&r.isDirectory())&&!(!r&&t.no_create)){gn.closeSync(gn.openSync(e,"a"));var n=new Date,i=t.date||n,a=t.date||n;if(t.reference){var s=vs(t.reference);s||$t.error("failed to get attributess of "+t.reference),i=s.mtime,a=s.atime}else t.date&&(i=t.date,a=t.date);t.atime_only&&t.mtime_only||(t.atime_only?i=r.mtime:t.mtime_only&&(a=r.atime)),gn.utimesSync(e,a,i)}}gs.exports=ys;function vs(t){try{return $t.statFollowLinks(t)}catch{return null}}});var ks=_((bf,bs)=>{var me=C(),_n=require("fs");function lu(t,e){var r=""+e;return r.length<t&&(r=Array(t-r.length+1).join(" ")+r),r}me.register("uniq",ws,{canReceivePipe:!0,cmdOptions:{i:"ignoreCase",c:"count",d:"duplicates"}});function ws(t,e,r){var n=me.readFromPipe();n||(e||me.error("no input given"),_n.existsSync(e)?me.statFollowLinks(e).isDirectory()&&me.error("error reading '"+e+"'"):me.error(e+": No such file or directory")),r&&_n.existsSync(r)&&me.statFollowLinks(r).isDirectory()&&me.error(r+": Is a directory");var i=(e?_n.readFileSync(e,"utf8"):n).trimRight().split(`
`),a=function(o,c){return t.ignoreCase?o.toLocaleLowerCase().localeCompare(c.toLocaleLowerCase()):o.localeCompare(c)},s=i.reduceRight(function(o,c){return o.length===0?[{count:1,ln:c}]:a(o[0].ln,c)===0?[{count:o[0].count+1,ln:c}].concat(o.slice(1)):[{count:1,ln:c}].concat(o)},[]).filter(function(o){return t.duplicates?o.count>1:!0}).map(function(o){return(t.count?lu(7,o.count)+" ":"")+o.ln}).join(`
`)+`
`;return r?(new me.ShellString(s).to(r),""):s}bs.exports=ws});var js=_((kf,Ts)=>{var kn=C(),Ss=require("fs"),bn=require("path");kn.register("which",Os,{allowGlobbing:!1,cmdOptions:{a:"all"}});var fu=".com;.exe;.bat;.cmd;.vbs;.vbe;.js;.jse;.wsf;.wsh",du=1;function Es(){return process.platform==="win32"}function xs(t){return t?t.split(bn.delimiter):[]}function hu(t){try{Ss.accessSync(t,du)}catch{return!1}return!0}function wn(t){return Ss.existsSync(t)&&!kn.statFollowLinks(t).isDirectory()&&(Es()||hu(t))}function Os(t,e){e||kn.error("must specify command");var r=Es(),n=xs(process.env.PATH),i=[];if(e.indexOf("/")===-1){var a=[""];if(r){var s=process.env.PATHEXT||fu;a=xs(s.toUpperCase())}for(var o=0;o<n.length&&!(i.length>0&&!t.all);o++){var c=bn.resolve(n[o],e);r&&(c=c.toUpperCase());var u=c.match(/\.[^<>:"/\|?*.]+$/);if(u&&a.indexOf(u[0])>=0){if(wn(c)){i.push(c);break}}else for(var l=0;l<a.length;l++){var v=a[l],p=c+v;if(wn(p)){i.push(p);break}}}}else wn(e)&&i.push(bn.resolve(e));return i.length>0?t.all?i:i[0]:t.all?[]:null}Ts.exports=Os});var mu,xn=oo(()=>{mu=Pn({"./src/cat.js":()=>Di(),"./src/cd.js":()=>tn(),"./src/chmod.js":()=>Vi(),"./src/common.js":()=>C(),"./src/cp.js":()=>an(),"./src/dirs.js":()=>Yi(),"./src/echo.js":()=>Ki(),"./src/error.js":()=>cn(),"./src/exec-child.js":()=>na(),"./src/exec.js":()=>ha(),"./src/find.js":()=>_a(),"./src/grep.js":()=>xa(),"./src/head.js":()=>Oa(),"./src/ln.js":()=>Ca(),"./src/ls.js":()=>dn(),"./src/mkdir.js":()=>Ia(),"./src/mv.js":()=>Za(),"./src/popd.js":()=>$a(),"./src/pushd.js":()=>Fa(),"./src/pwd.js":()=>fn(),"./src/rm.js":()=>pn(),"./src/sed.js":()=>Ga(),"./src/set.js":()=>Wa(),"./src/sort.js":()=>Qa(),"./src/tail.js":()=>rs(),"./src/tempdir.js":()=>ln(),"./src/test.js":()=>as(),"./src/to.js":()=>ls(),"./src/toEnd.js":()=>ps(),"./src/touch.js":()=>_s(),"./src/uniq.js":()=>ks(),"./src/which.js":()=>js()})});var Rs=_((Ef,Cs)=>{Cs.exports=["cat","cd","chmod","cp","dirs","echo","exec","find","grep","head","ln","ls","mkdir","mv","pwd","rm","sed","set","sort","tail","tempdir","test","to","toEnd","touch","uniq","which"]});var Ee=_(ht=>{xn();var As=C();Rs().forEach(function(t){mu("./src/"+t)});ht.exit=process.exit;ht.error=cn();ht.ShellString=As.ShellString;ht.env=process.env;ht.config=As.config});var Ft=_e(Ee()),mt=class{regexp=/([0-9]+)\.([0-9]+)\.([0-9]+)/g;_patch=0;_minor=0;_major=0;_prefix="";_postfix="";constructor(e){this.parse(e?.lastTag),this.update(e?.patcher)}get patch(){return this._patch}get minor(){return this._minor}get major(){return this._major}get postfix(){return this._postfix}get prefix(){return this._prefix}toString(){return`${this.prefix}${this.major}.${this.minor}.${this.patch}${this.postfix}`}parse(e="0.0.0"){let r=this.regexp.exec(e);if(!r){(0,Ft.echo)(`Version parsing from '${e}' failed`);return}if(this._major=+r?.[1],this._minor=+r?.[2],this._patch=+r?.[3],isNaN(this._patch)||isNaN(this._minor)||isNaN(this._major)){(0,Ft.echo)(`Found incorrect version '${this._major}.${this._minor}.${this._patch}' in the tag '${e}'`);return}let[n,i]=e.split(`${this._major}.${this._minor}.${this._patch}`);this._prefix=n??"",this._postfix=i??""}update(e){switch((0,Ft.echo)("Current version:",this.toString()),e){case"minor":this._minor+=1;break;case"major":this._major+=1;break;case"patch":default:this._patch+=1;break}(0,Ft.echo)("Next version:",this.toString())}};var xt=_e(Ee());var G=_e(Ee()),mr=class{constructor(e){this.config=e}pushTag(){(0,G.exec)('git config --global user.email "bot@gmail.com"'),(0,G.exec)('git config --global user.name "Bot"'),(0,G.exec)("git push --push-option=ci.skip --tags")}createTag(e){let r=(0,G.exec)(`git tag ${e}`);r.code!==0&&((0,G.echo)(`Version ${e} already exists`),this.config?.deleteIfExists&&(this.delete(e),r=(0,G.exec)(`git tag ${e}`)),r.code!==0&&(0,G.exit)(1))}getLastTag(){let e=(0,G.exec)("git describe --tags --abbrev=0");if(e.code!==0)return;let r=e.stdout.split(`
`).filter(n=>n.trim().length);return r.length?r[0]:void 0}getCommmitMessages(){let e=(0,G.exec)("git describe --tags --abbrev=0 2>/dev/null"),r;return e.code!==0?r=(0,G.exec)("git log -1 --pretty=%B"):r=(0,G.exec)(`git log ${e.stdout}^~1..HEAD --pretty=%B`),r.stdout?.split(`
`)||[]}delete(e){(0,G.exec)(`git tag -d ${e}`)}};var O;(function(t){t.assertEqual=i=>i;function e(i){}t.assertIs=e;function r(i){throw new Error}t.assertNever=r,t.arrayToEnum=i=>{let a={};for(let s of i)a[s]=s;return a},t.getValidEnumValues=i=>{let a=t.objectKeys(i).filter(o=>typeof i[i[o]]!="number"),s={};for(let o of a)s[o]=i[o];return t.objectValues(s)},t.objectValues=i=>t.objectKeys(i).map(function(a){return i[a]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{let a=[];for(let s in i)Object.prototype.hasOwnProperty.call(i,s)&&a.push(s);return a},t.find=(i,a)=>{for(let s of i)if(a(s))return s},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function n(i,a=" | "){return i.map(s=>typeof s=="string"?`'${s}'`:s).join(a)}t.joinValues=n,t.jsonStringifyReplacer=(i,a)=>typeof a=="bigint"?a.toString():a})(O||(O={}));var En;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(En||(En={}));var h=O.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Ae=t=>{switch(typeof t){case"undefined":return h.undefined;case"string":return h.string;case"number":return isNaN(t)?h.nan:h.number;case"boolean":return h.boolean;case"function":return h.function;case"bigint":return h.bigint;case"symbol":return h.symbol;case"object":return Array.isArray(t)?h.array:t===null?h.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?h.promise:typeof Map<"u"&&t instanceof Map?h.map:typeof Set<"u"&&t instanceof Set?h.set:typeof Date<"u"&&t instanceof Date?h.date:h.object;default:return h.unknown}},f=O.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),vu=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:"),X=class t extends Error{constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};let r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){let r=e||function(a){return a.message},n={_errors:[]},i=a=>{for(let s of a.issues)if(s.code==="invalid_union")s.unionErrors.map(i);else if(s.code==="invalid_return_type")i(s.returnTypeError);else if(s.code==="invalid_arguments")i(s.argumentsError);else if(s.path.length===0)n._errors.push(r(s));else{let o=n,c=0;for(;c<s.path.length;){let u=s.path[c];c===s.path.length-1?(o[u]=o[u]||{_errors:[]},o[u]._errors.push(r(s))):o[u]=o[u]||{_errors:[]},o=o[u],c++}}};return i(this),n}static assert(e){if(!(e instanceof t))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,O.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){let r={},n=[];for(let i of this.issues)i.path.length>0?(r[i.path[0]]=r[i.path[0]]||[],r[i.path[0]].push(e(i))):n.push(e(i));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}};X.create=t=>new X(t);var yt=(t,e)=>{let r;switch(t.code){case f.invalid_type:t.received===h.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case f.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,O.jsonStringifyReplacer)}`;break;case f.unrecognized_keys:r=`Unrecognized key(s) in object: ${O.joinValues(t.keys,", ")}`;break;case f.invalid_union:r="Invalid input";break;case f.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${O.joinValues(t.options)}`;break;case f.invalid_enum_value:r=`Invalid enum value. Expected ${O.joinValues(t.options)}, received '${t.received}'`;break;case f.invalid_arguments:r="Invalid function arguments";break;case f.invalid_return_type:r="Invalid function return type";break;case f.invalid_date:r="Invalid date";break;case f.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:O.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case f.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case f.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case f.custom:r="Invalid input";break;case f.invalid_intersection_types:r="Intersection results could not be merged";break;case f.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case f.not_finite:r="Number must be finite";break;default:r=e.defaultError,O.assertNever(t)}return{message:r}},Ls=yt;function yu(t){Ls=t}function pr(){return Ls}var vr=t=>{let{data:e,path:r,errorMaps:n,issueData:i}=t,a=[...r,...i.path||[]],s={...i,path:a};if(i.message!==void 0)return{...i,path:a,message:i.message};let o="",c=n.filter(u=>!!u).slice().reverse();for(let u of c)o=u(s,{data:e,defaultError:o}).message;return{...i,path:a,message:o}},gu=[];function d(t,e){let r=pr(),n=vr({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,r,r===yt?void 0:yt].filter(i=>!!i)});t.common.issues.push(n)}var V=class t{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){let n=[];for(let i of r){if(i.status==="aborted")return b;i.status==="dirty"&&e.dirty(),n.push(i.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,r){let n=[];for(let i of r){let a=await i.key,s=await i.value;n.push({key:a,value:s})}return t.mergeObjectSync(e,n)}static mergeObjectSync(e,r){let n={};for(let i of r){let{key:a,value:s}=i;if(a.status==="aborted"||s.status==="aborted")return b;a.status==="dirty"&&e.dirty(),s.status==="dirty"&&e.dirty(),a.value!=="__proto__"&&(typeof s.value<"u"||i.alwaysSet)&&(n[a.value]=s.value)}return{status:e.value,value:n}}},b=Object.freeze({status:"aborted"}),vt=t=>({status:"dirty",value:t}),z=t=>({status:"valid",value:t}),On=t=>t.status==="aborted",Tn=t=>t.status==="dirty",Gt=t=>t.status==="valid",zt=t=>typeof Promise<"u"&&t instanceof Promise;function yr(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)}function Ps(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r}var g;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e?.message})(g||(g={}));var Vt,Ut,te=class{constructor(e,r,n,i){this._cachedPath=[],this.parent=e,this.data=r,this._path=n,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}},Ns=(t,e)=>{if(Gt(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let r=new X(t.common.issues);return this._error=r,this._error}}};function k(t){if(!t)return{};let{errorMap:e,invalid_type_error:r,required_error:n,description:i}=t;if(e&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(s,o)=>{var c,u;let{message:l}=t;return s.code==="invalid_enum_value"?{message:l??o.defaultError}:typeof o.data>"u"?{message:(c=l??n)!==null&&c!==void 0?c:o.defaultError}:s.code!=="invalid_type"?{message:o.defaultError}:{message:(u=l??r)!==null&&u!==void 0?u:o.defaultError}},description:i}}var x=class{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return Ae(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:Ae(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new V,ctx:{common:e.parent.common,data:e.data,parsedType:Ae(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){let r=this._parse(e);if(zt(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){let r=this._parse(e);return Promise.resolve(r)}parse(e,r){let n=this.safeParse(e,r);if(n.success)return n.data;throw n.error}safeParse(e,r){var n;let i={common:{issues:[],async:(n=r?.async)!==null&&n!==void 0?n:!1,contextualErrorMap:r?.errorMap},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ae(e)},a=this._parseSync({data:e,path:i.path,parent:i});return Ns(i,a)}async parseAsync(e,r){let n=await this.safeParseAsync(e,r);if(n.success)return n.data;throw n.error}async safeParseAsync(e,r){let n={common:{issues:[],contextualErrorMap:r?.errorMap,async:!0},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ae(e)},i=this._parse({data:e,path:n.path,parent:n}),a=await(zt(i)?i:Promise.resolve(i));return Ns(n,a)}refine(e,r){let n=i=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(i):r;return this._refinement((i,a)=>{let s=e(i),o=()=>a.addIssue({code:f.custom,...n(i)});return typeof Promise<"u"&&s instanceof Promise?s.then(c=>c?!0:(o(),!1)):s?!0:(o(),!1)})}refinement(e,r){return this._refinement((n,i)=>e(n)?!0:(i.addIssue(typeof r=="function"?r(n,i):r),!1))}_refinement(e){return new Y({schema:this,typeName:w.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return ee.create(this,this._def)}nullable(){return ce.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ye.create(this,this._def)}promise(){return Le.create(this,this._def)}or(e){return He.create([this,e],this._def)}and(e){return Xe.create(this,e,this._def)}transform(e){return new Y({...k(this._def),schema:this,typeName:w.ZodEffects,effect:{type:"transform",transform:e}})}default(e){let r=typeof e=="function"?e:()=>e;return new et({...k(this._def),innerType:this,defaultValue:r,typeName:w.ZodDefault})}brand(){return new Bt({typeName:w.ZodBranded,type:this,...k(this._def)})}catch(e){let r=typeof e=="function"?e:()=>e;return new tt({...k(this._def),innerType:this,catchValue:r,typeName:w.ZodCatch})}describe(e){let r=this.constructor;return new r({...this._def,description:e})}pipe(e){return Wt.create(this,e)}readonly(){return rt.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}},_u=/^c[^\s-]{8,}$/i,wu=/^[0-9a-z]+$/,bu=/^[0-9A-HJKMNP-TV-Z]{26}$/,ku=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,xu=/^[a-z0-9_-]{21}$/i,Su=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Eu=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Ou="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",Sn,Tu=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ju=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,Cu=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,qs="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Ru=new RegExp(`^${qs}$`);function Ds(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function Au(t){return new RegExp(`^${Ds(t)}$`)}function Ms(t){let e=`${qs}T${Ds(t)}`,r=[];return r.push(t.local?"Z?":"Z"),t.offset&&r.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${r.join("|")})`,new RegExp(`^${e}$`)}function Nu(t,e){return!!((e==="v4"||!e)&&Tu.test(t)||(e==="v6"||!e)&&ju.test(t))}var Ne=class t extends x{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==h.string){let a=this._getOrReturnCtx(e);return d(a,{code:f.invalid_type,expected:h.string,received:a.parsedType}),b}let n=new V,i;for(let a of this._def.checks)if(a.kind==="min")e.data.length<a.value&&(i=this._getOrReturnCtx(e,i),d(i,{code:f.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="max")e.data.length>a.value&&(i=this._getOrReturnCtx(e,i),d(i,{code:f.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="length"){let s=e.data.length>a.value,o=e.data.length<a.value;(s||o)&&(i=this._getOrReturnCtx(e,i),s?d(i,{code:f.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):o&&d(i,{code:f.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),n.dirty())}else if(a.kind==="email")Eu.test(e.data)||(i=this._getOrReturnCtx(e,i),d(i,{validation:"email",code:f.invalid_string,message:a.message}),n.dirty());else if(a.kind==="emoji")Sn||(Sn=new RegExp(Ou,"u")),Sn.test(e.data)||(i=this._getOrReturnCtx(e,i),d(i,{validation:"emoji",code:f.invalid_string,message:a.message}),n.dirty());else if(a.kind==="uuid")ku.test(e.data)||(i=this._getOrReturnCtx(e,i),d(i,{validation:"uuid",code:f.invalid_string,message:a.message}),n.dirty());else if(a.kind==="nanoid")xu.test(e.data)||(i=this._getOrReturnCtx(e,i),d(i,{validation:"nanoid",code:f.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid")_u.test(e.data)||(i=this._getOrReturnCtx(e,i),d(i,{validation:"cuid",code:f.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid2")wu.test(e.data)||(i=this._getOrReturnCtx(e,i),d(i,{validation:"cuid2",code:f.invalid_string,message:a.message}),n.dirty());else if(a.kind==="ulid")bu.test(e.data)||(i=this._getOrReturnCtx(e,i),d(i,{validation:"ulid",code:f.invalid_string,message:a.message}),n.dirty());else if(a.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),d(i,{validation:"url",code:f.invalid_string,message:a.message}),n.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),d(i,{validation:"regex",code:f.invalid_string,message:a.message}),n.dirty())):a.kind==="trim"?e.data=e.data.trim():a.kind==="includes"?e.data.includes(a.value,a.position)||(i=this._getOrReturnCtx(e,i),d(i,{code:f.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),n.dirty()):a.kind==="toLowerCase"?e.data=e.data.toLowerCase():a.kind==="toUpperCase"?e.data=e.data.toUpperCase():a.kind==="startsWith"?e.data.startsWith(a.value)||(i=this._getOrReturnCtx(e,i),d(i,{code:f.invalid_string,validation:{startsWith:a.value},message:a.message}),n.dirty()):a.kind==="endsWith"?e.data.endsWith(a.value)||(i=this._getOrReturnCtx(e,i),d(i,{code:f.invalid_string,validation:{endsWith:a.value},message:a.message}),n.dirty()):a.kind==="datetime"?Ms(a).test(e.data)||(i=this._getOrReturnCtx(e,i),d(i,{code:f.invalid_string,validation:"datetime",message:a.message}),n.dirty()):a.kind==="date"?Ru.test(e.data)||(i=this._getOrReturnCtx(e,i),d(i,{code:f.invalid_string,validation:"date",message:a.message}),n.dirty()):a.kind==="time"?Au(a).test(e.data)||(i=this._getOrReturnCtx(e,i),d(i,{code:f.invalid_string,validation:"time",message:a.message}),n.dirty()):a.kind==="duration"?Su.test(e.data)||(i=this._getOrReturnCtx(e,i),d(i,{validation:"duration",code:f.invalid_string,message:a.message}),n.dirty()):a.kind==="ip"?Nu(e.data,a.version)||(i=this._getOrReturnCtx(e,i),d(i,{validation:"ip",code:f.invalid_string,message:a.message}),n.dirty()):a.kind==="base64"?Cu.test(e.data)||(i=this._getOrReturnCtx(e,i),d(i,{validation:"base64",code:f.invalid_string,message:a.message}),n.dirty()):O.assertNever(a);return{status:n.value,value:e.data}}_regex(e,r,n){return this.refinement(i=>e.test(i),{validation:r,code:f.invalid_string,...g.errToObj(n)})}_addCheck(e){return new t({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...g.errToObj(e)})}url(e){return this._addCheck({kind:"url",...g.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...g.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...g.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...g.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...g.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...g.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...g.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...g.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...g.errToObj(e)})}datetime(e){var r,n;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:(r=e?.offset)!==null&&r!==void 0?r:!1,local:(n=e?.local)!==null&&n!==void 0?n:!1,...g.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof e?.precision>"u"?null:e?.precision,...g.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...g.errToObj(e)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...g.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r?.position,...g.errToObj(r?.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...g.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...g.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...g.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...g.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...g.errToObj(r)})}nonempty(e){return this.min(1,g.errToObj(e))}trim(){return new t({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new t({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new t({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get minLength(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}};Ne.create=t=>{var e;return new Ne({checks:[],typeName:w.ZodString,coerce:(e=t?.coerce)!==null&&e!==void 0?e:!1,...k(t)})};function Iu(t,e){let r=(t.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,i=r>n?r:n,a=parseInt(t.toFixed(i).replace(".","")),s=parseInt(e.toFixed(i).replace(".",""));return a%s/Math.pow(10,i)}var Ve=class t extends x{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==h.number){let a=this._getOrReturnCtx(e);return d(a,{code:f.invalid_type,expected:h.number,received:a.parsedType}),b}let n,i=new V;for(let a of this._def.checks)a.kind==="int"?O.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),d(n,{code:f.invalid_type,expected:"integer",received:"float",message:a.message}),i.dirty()):a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(n=this._getOrReturnCtx(e,n),d(n,{code:f.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(n=this._getOrReturnCtx(e,n),d(n,{code:f.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="multipleOf"?Iu(e.data,a.value)!==0&&(n=this._getOrReturnCtx(e,n),d(n,{code:f.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):a.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),d(n,{code:f.not_finite,message:a.message}),i.dirty()):O.assertNever(a);return{status:i.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,g.toString(r))}gt(e,r){return this.setLimit("min",e,!1,g.toString(r))}lte(e,r){return this.setLimit("max",e,!0,g.toString(r))}lt(e,r){return this.setLimit("max",e,!1,g.toString(r))}setLimit(e,r,n,i){return new t({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:g.toString(i)}]})}_addCheck(e){return new t({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:g.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:g.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:g.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:g.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:g.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:g.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:g.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:g.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:g.toString(e)})}get minValue(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&O.isInteger(e.value))}get isFinite(){let e=null,r=null;for(let n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(r)&&Number.isFinite(e)}};Ve.create=t=>new Ve({checks:[],typeName:w.ZodNumber,coerce:t?.coerce||!1,...k(t)});var Ue=class t extends x{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==h.bigint){let a=this._getOrReturnCtx(e);return d(a,{code:f.invalid_type,expected:h.bigint,received:a.parsedType}),b}let n,i=new V;for(let a of this._def.checks)a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(n=this._getOrReturnCtx(e,n),d(n,{code:f.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(n=this._getOrReturnCtx(e,n),d(n,{code:f.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="multipleOf"?e.data%a.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),d(n,{code:f.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):O.assertNever(a);return{status:i.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,g.toString(r))}gt(e,r){return this.setLimit("min",e,!1,g.toString(r))}lte(e,r){return this.setLimit("max",e,!0,g.toString(r))}lt(e,r){return this.setLimit("max",e,!1,g.toString(r))}setLimit(e,r,n,i){return new t({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:g.toString(i)}]})}_addCheck(e){return new t({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:g.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:g.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:g.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:g.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:g.toString(r)})}get minValue(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}};Ue.create=t=>{var e;return new Ue({checks:[],typeName:w.ZodBigInt,coerce:(e=t?.coerce)!==null&&e!==void 0?e:!1,...k(t)})};var Ge=class extends x{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==h.boolean){let n=this._getOrReturnCtx(e);return d(n,{code:f.invalid_type,expected:h.boolean,received:n.parsedType}),b}return z(e.data)}};Ge.create=t=>new Ge({typeName:w.ZodBoolean,coerce:t?.coerce||!1,...k(t)});var ze=class t extends x{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==h.date){let a=this._getOrReturnCtx(e);return d(a,{code:f.invalid_type,expected:h.date,received:a.parsedType}),b}if(isNaN(e.data.getTime())){let a=this._getOrReturnCtx(e);return d(a,{code:f.invalid_date}),b}let n=new V,i;for(let a of this._def.checks)a.kind==="min"?e.data.getTime()<a.value&&(i=this._getOrReturnCtx(e,i),d(i,{code:f.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),n.dirty()):a.kind==="max"?e.data.getTime()>a.value&&(i=this._getOrReturnCtx(e,i),d(i,{code:f.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),n.dirty()):O.assertNever(a);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new t({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:g.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:g.toString(r)})}get minDate(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}};ze.create=t=>new ze({checks:[],coerce:t?.coerce||!1,typeName:w.ZodDate,...k(t)});var gt=class extends x{_parse(e){if(this._getType(e)!==h.symbol){let n=this._getOrReturnCtx(e);return d(n,{code:f.invalid_type,expected:h.symbol,received:n.parsedType}),b}return z(e.data)}};gt.create=t=>new gt({typeName:w.ZodSymbol,...k(t)});var Be=class extends x{_parse(e){if(this._getType(e)!==h.undefined){let n=this._getOrReturnCtx(e);return d(n,{code:f.invalid_type,expected:h.undefined,received:n.parsedType}),b}return z(e.data)}};Be.create=t=>new Be({typeName:w.ZodUndefined,...k(t)});var We=class extends x{_parse(e){if(this._getType(e)!==h.null){let n=this._getOrReturnCtx(e);return d(n,{code:f.invalid_type,expected:h.null,received:n.parsedType}),b}return z(e.data)}};We.create=t=>new We({typeName:w.ZodNull,...k(t)});var Ie=class extends x{constructor(){super(...arguments),this._any=!0}_parse(e){return z(e.data)}};Ie.create=t=>new Ie({typeName:w.ZodAny,...k(t)});var ve=class extends x{constructor(){super(...arguments),this._unknown=!0}_parse(e){return z(e.data)}};ve.create=t=>new ve({typeName:w.ZodUnknown,...k(t)});var ie=class extends x{_parse(e){let r=this._getOrReturnCtx(e);return d(r,{code:f.invalid_type,expected:h.never,received:r.parsedType}),b}};ie.create=t=>new ie({typeName:w.ZodNever,...k(t)});var _t=class extends x{_parse(e){if(this._getType(e)!==h.undefined){let n=this._getOrReturnCtx(e);return d(n,{code:f.invalid_type,expected:h.void,received:n.parsedType}),b}return z(e.data)}};_t.create=t=>new _t({typeName:w.ZodVoid,...k(t)});var ye=class t extends x{_parse(e){let{ctx:r,status:n}=this._processInputParams(e),i=this._def;if(r.parsedType!==h.array)return d(r,{code:f.invalid_type,expected:h.array,received:r.parsedType}),b;if(i.exactLength!==null){let s=r.data.length>i.exactLength.value,o=r.data.length<i.exactLength.value;(s||o)&&(d(r,{code:s?f.too_big:f.too_small,minimum:o?i.exactLength.value:void 0,maximum:s?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),n.dirty())}if(i.minLength!==null&&r.data.length<i.minLength.value&&(d(r,{code:f.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),n.dirty()),i.maxLength!==null&&r.data.length>i.maxLength.value&&(d(r,{code:f.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((s,o)=>i.type._parseAsync(new te(r,s,r.path,o)))).then(s=>V.mergeArray(n,s));let a=[...r.data].map((s,o)=>i.type._parseSync(new te(r,s,r.path,o)));return V.mergeArray(n,a)}get element(){return this._def.type}min(e,r){return new t({...this._def,minLength:{value:e,message:g.toString(r)}})}max(e,r){return new t({...this._def,maxLength:{value:e,message:g.toString(r)}})}length(e,r){return new t({...this._def,exactLength:{value:e,message:g.toString(r)}})}nonempty(e){return this.min(1,e)}};ye.create=(t,e)=>new ye({type:t,minLength:null,maxLength:null,exactLength:null,typeName:w.ZodArray,...k(e)});function pt(t){if(t instanceof B){let e={};for(let r in t.shape){let n=t.shape[r];e[r]=ee.create(pt(n))}return new B({...t._def,shape:()=>e})}else return t instanceof ye?new ye({...t._def,type:pt(t.element)}):t instanceof ee?ee.create(pt(t.unwrap())):t instanceof ce?ce.create(pt(t.unwrap())):t instanceof oe?oe.create(t.items.map(e=>pt(e))):t}var B=class t extends x{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;let e=this._def.shape(),r=O.objectKeys(e);return this._cached={shape:e,keys:r}}_parse(e){if(this._getType(e)!==h.object){let u=this._getOrReturnCtx(e);return d(u,{code:f.invalid_type,expected:h.object,received:u.parsedType}),b}let{status:n,ctx:i}=this._processInputParams(e),{shape:a,keys:s}=this._getCached(),o=[];if(!(this._def.catchall instanceof ie&&this._def.unknownKeys==="strip"))for(let u in i.data)s.includes(u)||o.push(u);let c=[];for(let u of s){let l=a[u],v=i.data[u];c.push({key:{status:"valid",value:u},value:l._parse(new te(i,v,i.path,u)),alwaysSet:u in i.data})}if(this._def.catchall instanceof ie){let u=this._def.unknownKeys;if(u==="passthrough")for(let l of o)c.push({key:{status:"valid",value:l},value:{status:"valid",value:i.data[l]}});else if(u==="strict")o.length>0&&(d(i,{code:f.unrecognized_keys,keys:o}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{let u=this._def.catchall;for(let l of o){let v=i.data[l];c.push({key:{status:"valid",value:l},value:u._parse(new te(i,v,i.path,l)),alwaysSet:l in i.data})}}return i.common.async?Promise.resolve().then(async()=>{let u=[];for(let l of c){let v=await l.key,p=await l.value;u.push({key:v,value:p,alwaysSet:l.alwaysSet})}return u}).then(u=>V.mergeObjectSync(n,u)):V.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(e){return g.errToObj,new t({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,n)=>{var i,a,s,o;let c=(s=(a=(i=this._def).errorMap)===null||a===void 0?void 0:a.call(i,r,n).message)!==null&&s!==void 0?s:n.defaultError;return r.code==="unrecognized_keys"?{message:(o=g.errToObj(e).message)!==null&&o!==void 0?o:c}:{message:c}}}:{}})}strip(){return new t({...this._def,unknownKeys:"strip"})}passthrough(){return new t({...this._def,unknownKeys:"passthrough"})}extend(e){return new t({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new t({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:w.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new t({...this._def,catchall:e})}pick(e){let r={};return O.objectKeys(e).forEach(n=>{e[n]&&this.shape[n]&&(r[n]=this.shape[n])}),new t({...this._def,shape:()=>r})}omit(e){let r={};return O.objectKeys(this.shape).forEach(n=>{e[n]||(r[n]=this.shape[n])}),new t({...this._def,shape:()=>r})}deepPartial(){return pt(this)}partial(e){let r={};return O.objectKeys(this.shape).forEach(n=>{let i=this.shape[n];e&&!e[n]?r[n]=i:r[n]=i.optional()}),new t({...this._def,shape:()=>r})}required(e){let r={};return O.objectKeys(this.shape).forEach(n=>{if(e&&!e[n])r[n]=this.shape[n];else{let a=this.shape[n];for(;a instanceof ee;)a=a._def.innerType;r[n]=a}}),new t({...this._def,shape:()=>r})}keyof(){return Zs(O.objectKeys(this.shape))}};B.create=(t,e)=>new B({shape:()=>t,unknownKeys:"strip",catchall:ie.create(),typeName:w.ZodObject,...k(e)});B.strictCreate=(t,e)=>new B({shape:()=>t,unknownKeys:"strict",catchall:ie.create(),typeName:w.ZodObject,...k(e)});B.lazycreate=(t,e)=>new B({shape:t,unknownKeys:"strip",catchall:ie.create(),typeName:w.ZodObject,...k(e)});var He=class extends x{_parse(e){let{ctx:r}=this._processInputParams(e),n=this._def.options;function i(a){for(let o of a)if(o.result.status==="valid")return o.result;for(let o of a)if(o.result.status==="dirty")return r.common.issues.push(...o.ctx.common.issues),o.result;let s=a.map(o=>new X(o.ctx.common.issues));return d(r,{code:f.invalid_union,unionErrors:s}),b}if(r.common.async)return Promise.all(n.map(async a=>{let s={...r,common:{...r.common,issues:[]},parent:null};return{result:await a._parseAsync({data:r.data,path:r.path,parent:s}),ctx:s}})).then(i);{let a,s=[];for(let c of n){let u={...r,common:{...r.common,issues:[]},parent:null},l=c._parseSync({data:r.data,path:r.path,parent:u});if(l.status==="valid")return l;l.status==="dirty"&&!a&&(a={result:l,ctx:u}),u.common.issues.length&&s.push(u.common.issues)}if(a)return r.common.issues.push(...a.ctx.common.issues),a.result;let o=s.map(c=>new X(c));return d(r,{code:f.invalid_union,unionErrors:o}),b}}get options(){return this._def.options}};He.create=(t,e)=>new He({options:t,typeName:w.ZodUnion,...k(e)});var pe=t=>t instanceof Ye?pe(t.schema):t instanceof Y?pe(t.innerType()):t instanceof Je?[t.value]:t instanceof Qe?t.options:t instanceof Ke?O.objectValues(t.enum):t instanceof et?pe(t._def.innerType):t instanceof Be?[void 0]:t instanceof We?[null]:t instanceof ee?[void 0,...pe(t.unwrap())]:t instanceof ce?[null,...pe(t.unwrap())]:t instanceof Bt||t instanceof rt?pe(t.unwrap()):t instanceof tt?pe(t._def.innerType):[],gr=class t extends x{_parse(e){let{ctx:r}=this._processInputParams(e);if(r.parsedType!==h.object)return d(r,{code:f.invalid_type,expected:h.object,received:r.parsedType}),b;let n=this.discriminator,i=r.data[n],a=this.optionsMap.get(i);return a?r.common.async?a._parseAsync({data:r.data,path:r.path,parent:r}):a._parseSync({data:r.data,path:r.path,parent:r}):(d(r,{code:f.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),b)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,r,n){let i=new Map;for(let a of r){let s=pe(a.shape[e]);if(!s.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(let o of s){if(i.has(o))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(o)}`);i.set(o,a)}}return new t({typeName:w.ZodDiscriminatedUnion,discriminator:e,options:r,optionsMap:i,...k(n)})}};function jn(t,e){let r=Ae(t),n=Ae(e);if(t===e)return{valid:!0,data:t};if(r===h.object&&n===h.object){let i=O.objectKeys(e),a=O.objectKeys(t).filter(o=>i.indexOf(o)!==-1),s={...t,...e};for(let o of a){let c=jn(t[o],e[o]);if(!c.valid)return{valid:!1};s[o]=c.data}return{valid:!0,data:s}}else if(r===h.array&&n===h.array){if(t.length!==e.length)return{valid:!1};let i=[];for(let a=0;a<t.length;a++){let s=t[a],o=e[a],c=jn(s,o);if(!c.valid)return{valid:!1};i.push(c.data)}return{valid:!0,data:i}}else return r===h.date&&n===h.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}var Xe=class extends x{_parse(e){let{status:r,ctx:n}=this._processInputParams(e),i=(a,s)=>{if(On(a)||On(s))return b;let o=jn(a.value,s.value);return o.valid?((Tn(a)||Tn(s))&&r.dirty(),{status:r.value,value:o.data}):(d(n,{code:f.invalid_intersection_types}),b)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([a,s])=>i(a,s)):i(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}};Xe.create=(t,e,r)=>new Xe({left:t,right:e,typeName:w.ZodIntersection,...k(r)});var oe=class t extends x{_parse(e){let{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==h.array)return d(n,{code:f.invalid_type,expected:h.array,received:n.parsedType}),b;if(n.data.length<this._def.items.length)return d(n,{code:f.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),b;!this._def.rest&&n.data.length>this._def.items.length&&(d(n,{code:f.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());let a=[...n.data].map((s,o)=>{let c=this._def.items[o]||this._def.rest;return c?c._parse(new te(n,s,n.path,o)):null}).filter(s=>!!s);return n.common.async?Promise.all(a).then(s=>V.mergeArray(r,s)):V.mergeArray(r,a)}get items(){return this._def.items}rest(e){return new t({...this._def,rest:e})}};oe.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new oe({items:t,typeName:w.ZodTuple,rest:null,...k(e)})};var _r=class t extends x{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==h.object)return d(n,{code:f.invalid_type,expected:h.object,received:n.parsedType}),b;let i=[],a=this._def.keyType,s=this._def.valueType;for(let o in n.data)i.push({key:a._parse(new te(n,o,n.path,o)),value:s._parse(new te(n,n.data[o],n.path,o)),alwaysSet:o in n.data});return n.common.async?V.mergeObjectAsync(r,i):V.mergeObjectSync(r,i)}get element(){return this._def.valueType}static create(e,r,n){return r instanceof x?new t({keyType:e,valueType:r,typeName:w.ZodRecord,...k(n)}):new t({keyType:Ne.create(),valueType:e,typeName:w.ZodRecord,...k(r)})}},wt=class extends x{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==h.map)return d(n,{code:f.invalid_type,expected:h.map,received:n.parsedType}),b;let i=this._def.keyType,a=this._def.valueType,s=[...n.data.entries()].map(([o,c],u)=>({key:i._parse(new te(n,o,n.path,[u,"key"])),value:a._parse(new te(n,c,n.path,[u,"value"]))}));if(n.common.async){let o=new Map;return Promise.resolve().then(async()=>{for(let c of s){let u=await c.key,l=await c.value;if(u.status==="aborted"||l.status==="aborted")return b;(u.status==="dirty"||l.status==="dirty")&&r.dirty(),o.set(u.value,l.value)}return{status:r.value,value:o}})}else{let o=new Map;for(let c of s){let u=c.key,l=c.value;if(u.status==="aborted"||l.status==="aborted")return b;(u.status==="dirty"||l.status==="dirty")&&r.dirty(),o.set(u.value,l.value)}return{status:r.value,value:o}}}};wt.create=(t,e,r)=>new wt({valueType:e,keyType:t,typeName:w.ZodMap,...k(r)});var bt=class t extends x{_parse(e){let{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==h.set)return d(n,{code:f.invalid_type,expected:h.set,received:n.parsedType}),b;let i=this._def;i.minSize!==null&&n.data.size<i.minSize.value&&(d(n,{code:f.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),r.dirty()),i.maxSize!==null&&n.data.size>i.maxSize.value&&(d(n,{code:f.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),r.dirty());let a=this._def.valueType;function s(c){let u=new Set;for(let l of c){if(l.status==="aborted")return b;l.status==="dirty"&&r.dirty(),u.add(l.value)}return{status:r.value,value:u}}let o=[...n.data.values()].map((c,u)=>a._parse(new te(n,c,n.path,u)));return n.common.async?Promise.all(o).then(c=>s(c)):s(o)}min(e,r){return new t({...this._def,minSize:{value:e,message:g.toString(r)}})}max(e,r){return new t({...this._def,maxSize:{value:e,message:g.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}};bt.create=(t,e)=>new bt({valueType:t,minSize:null,maxSize:null,typeName:w.ZodSet,...k(e)});var wr=class t extends x{constructor(){super(...arguments),this.validate=this.implement}_parse(e){let{ctx:r}=this._processInputParams(e);if(r.parsedType!==h.function)return d(r,{code:f.invalid_type,expected:h.function,received:r.parsedType}),b;function n(o,c){return vr({data:o,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,pr(),yt].filter(u=>!!u),issueData:{code:f.invalid_arguments,argumentsError:c}})}function i(o,c){return vr({data:o,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,pr(),yt].filter(u=>!!u),issueData:{code:f.invalid_return_type,returnTypeError:c}})}let a={errorMap:r.common.contextualErrorMap},s=r.data;if(this._def.returns instanceof Le){let o=this;return z(async function(...c){let u=new X([]),l=await o._def.args.parseAsync(c,a).catch(m=>{throw u.addIssue(n(c,m)),u}),v=await Reflect.apply(s,this,l);return await o._def.returns._def.type.parseAsync(v,a).catch(m=>{throw u.addIssue(i(v,m)),u})})}else{let o=this;return z(function(...c){let u=o._def.args.safeParse(c,a);if(!u.success)throw new X([n(c,u.error)]);let l=Reflect.apply(s,this,u.data),v=o._def.returns.safeParse(l,a);if(!v.success)throw new X([i(l,v.error)]);return v.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new t({...this._def,args:oe.create(e).rest(ve.create())})}returns(e){return new t({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,r,n){return new t({args:e||oe.create([]).rest(ve.create()),returns:r||ve.create(),typeName:w.ZodFunction,...k(n)})}},Ye=class extends x{get schema(){return this._def.getter()}_parse(e){let{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}};Ye.create=(t,e)=>new Ye({getter:t,typeName:w.ZodLazy,...k(e)});var Je=class extends x{_parse(e){if(e.data!==this._def.value){let r=this._getOrReturnCtx(e);return d(r,{received:r.data,code:f.invalid_literal,expected:this._def.value}),b}return{status:"valid",value:e.data}}get value(){return this._def.value}};Je.create=(t,e)=>new Je({value:t,typeName:w.ZodLiteral,...k(e)});function Zs(t,e){return new Qe({values:t,typeName:w.ZodEnum,...k(e)})}var Qe=class t extends x{constructor(){super(...arguments),Vt.set(this,void 0)}_parse(e){if(typeof e.data!="string"){let r=this._getOrReturnCtx(e),n=this._def.values;return d(r,{expected:O.joinValues(n),received:r.parsedType,code:f.invalid_type}),b}if(yr(this,Vt,"f")||Ps(this,Vt,new Set(this._def.values),"f"),!yr(this,Vt,"f").has(e.data)){let r=this._getOrReturnCtx(e),n=this._def.values;return d(r,{received:r.data,code:f.invalid_enum_value,options:n}),b}return z(e.data)}get options(){return this._def.values}get enum(){let e={};for(let r of this._def.values)e[r]=r;return e}get Values(){let e={};for(let r of this._def.values)e[r]=r;return e}get Enum(){let e={};for(let r of this._def.values)e[r]=r;return e}extract(e,r=this._def){return t.create(e,{...this._def,...r})}exclude(e,r=this._def){return t.create(this.options.filter(n=>!e.includes(n)),{...this._def,...r})}};Vt=new WeakMap;Qe.create=Zs;var Ke=class extends x{constructor(){super(...arguments),Ut.set(this,void 0)}_parse(e){let r=O.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==h.string&&n.parsedType!==h.number){let i=O.objectValues(r);return d(n,{expected:O.joinValues(i),received:n.parsedType,code:f.invalid_type}),b}if(yr(this,Ut,"f")||Ps(this,Ut,new Set(O.getValidEnumValues(this._def.values)),"f"),!yr(this,Ut,"f").has(e.data)){let i=O.objectValues(r);return d(n,{received:n.data,code:f.invalid_enum_value,options:i}),b}return z(e.data)}get enum(){return this._def.values}};Ut=new WeakMap;Ke.create=(t,e)=>new Ke({values:t,typeName:w.ZodNativeEnum,...k(e)});var Le=class extends x{unwrap(){return this._def.type}_parse(e){let{ctx:r}=this._processInputParams(e);if(r.parsedType!==h.promise&&r.common.async===!1)return d(r,{code:f.invalid_type,expected:h.promise,received:r.parsedType}),b;let n=r.parsedType===h.promise?r.data:Promise.resolve(r.data);return z(n.then(i=>this._def.type.parseAsync(i,{path:r.path,errorMap:r.common.contextualErrorMap})))}};Le.create=(t,e)=>new Le({type:t,typeName:w.ZodPromise,...k(e)});var Y=class extends x{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===w.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){let{status:r,ctx:n}=this._processInputParams(e),i=this._def.effect||null,a={addIssue:s=>{d(n,s),s.fatal?r.abort():r.dirty()},get path(){return n.path}};if(a.addIssue=a.addIssue.bind(a),i.type==="preprocess"){let s=i.transform(n.data,a);if(n.common.async)return Promise.resolve(s).then(async o=>{if(r.value==="aborted")return b;let c=await this._def.schema._parseAsync({data:o,path:n.path,parent:n});return c.status==="aborted"?b:c.status==="dirty"||r.value==="dirty"?vt(c.value):c});{if(r.value==="aborted")return b;let o=this._def.schema._parseSync({data:s,path:n.path,parent:n});return o.status==="aborted"?b:o.status==="dirty"||r.value==="dirty"?vt(o.value):o}}if(i.type==="refinement"){let s=o=>{let c=i.refinement(o,a);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return o};if(n.common.async===!1){let o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return o.status==="aborted"?b:(o.status==="dirty"&&r.dirty(),s(o.value),{status:r.value,value:o.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>o.status==="aborted"?b:(o.status==="dirty"&&r.dirty(),s(o.value).then(()=>({status:r.value,value:o.value}))))}if(i.type==="transform")if(n.common.async===!1){let s=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!Gt(s))return s;let o=i.transform(s.value,a);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:o}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(s=>Gt(s)?Promise.resolve(i.transform(s.value,a)).then(o=>({status:r.value,value:o})):s);O.assertNever(i)}};Y.create=(t,e,r)=>new Y({schema:t,typeName:w.ZodEffects,effect:e,...k(r)});Y.createWithPreprocess=(t,e,r)=>new Y({schema:e,effect:{type:"preprocess",transform:t},typeName:w.ZodEffects,...k(r)});var ee=class extends x{_parse(e){return this._getType(e)===h.undefined?z(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};ee.create=(t,e)=>new ee({innerType:t,typeName:w.ZodOptional,...k(e)});var ce=class extends x{_parse(e){return this._getType(e)===h.null?z(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};ce.create=(t,e)=>new ce({innerType:t,typeName:w.ZodNullable,...k(e)});var et=class extends x{_parse(e){let{ctx:r}=this._processInputParams(e),n=r.data;return r.parsedType===h.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}};et.create=(t,e)=>new et({innerType:t,typeName:w.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...k(e)});var tt=class extends x{_parse(e){let{ctx:r}=this._processInputParams(e),n={...r,common:{...r.common,issues:[]}},i=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return zt(i)?i.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new X(n.common.issues)},input:n.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new X(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}};tt.create=(t,e)=>new tt({innerType:t,typeName:w.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...k(e)});var kt=class extends x{_parse(e){if(this._getType(e)!==h.nan){let n=this._getOrReturnCtx(e);return d(n,{code:f.invalid_type,expected:h.nan,received:n.parsedType}),b}return{status:"valid",value:e.data}}};kt.create=t=>new kt({typeName:w.ZodNaN,...k(t)});var Lu=Symbol("zod_brand"),Bt=class extends x{_parse(e){let{ctx:r}=this._processInputParams(e),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}},Wt=class t extends x{_parse(e){let{status:r,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{let a=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?b:a.status==="dirty"?(r.dirty(),vt(a.value)):this._def.out._parseAsync({data:a.value,path:n.path,parent:n})})();{let i=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?b:i.status==="dirty"?(r.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:n.path,parent:n})}}static create(e,r){return new t({in:e,out:r,typeName:w.ZodPipeline})}},rt=class extends x{_parse(e){let r=this._def.innerType._parse(e),n=i=>(Gt(i)&&(i.value=Object.freeze(i.value)),i);return zt(r)?r.then(i=>n(i)):n(r)}unwrap(){return this._def.innerType}};rt.create=(t,e)=>new rt({innerType:t,typeName:w.ZodReadonly,...k(e)});function $s(t,e={},r){return t?Ie.create().superRefine((n,i)=>{var a,s;if(!t(n)){let o=typeof e=="function"?e(n):typeof e=="string"?{message:e}:e,c=(s=(a=o.fatal)!==null&&a!==void 0?a:r)!==null&&s!==void 0?s:!0,u=typeof o=="string"?{message:o}:o;i.addIssue({code:"custom",...u,fatal:c})}}):Ie.create()}var Pu={object:B.lazycreate},w;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(w||(w={}));var qu=(t,e={message:`Input not instance of ${t.name}`})=>$s(r=>r instanceof t,e),Fs=Ne.create,Vs=Ve.create,Du=kt.create,Mu=Ue.create,Us=Ge.create,Zu=ze.create,$u=gt.create,Fu=Be.create,Vu=We.create,Uu=Ie.create,Gu=ve.create,zu=ie.create,Bu=_t.create,Wu=ye.create,Hu=B.create,Xu=B.strictCreate,Yu=He.create,Ju=gr.create,Qu=Xe.create,Ku=oe.create,el=_r.create,tl=wt.create,rl=bt.create,nl=wr.create,il=Ye.create,al=Je.create,sl=Qe.create,ol=Ke.create,cl=Le.create,Is=Y.create,ul=ee.create,ll=ce.create,fl=Y.createWithPreprocess,dl=Wt.create,hl=()=>Fs().optional(),ml=()=>Vs().optional(),pl=()=>Us().optional(),vl={string:t=>Ne.create({...t,coerce:!0}),number:t=>Ve.create({...t,coerce:!0}),boolean:t=>Ge.create({...t,coerce:!0}),bigint:t=>Ue.create({...t,coerce:!0}),date:t=>ze.create({...t,coerce:!0})},yl=b,ae=Object.freeze({__proto__:null,defaultErrorMap:yt,setErrorMap:yu,getErrorMap:pr,makeIssue:vr,EMPTY_PATH:gu,addIssueToContext:d,ParseStatus:V,INVALID:b,DIRTY:vt,OK:z,isAborted:On,isDirty:Tn,isValid:Gt,isAsync:zt,get util(){return O},get objectUtil(){return En},ZodParsedType:h,getParsedType:Ae,ZodType:x,datetimeRegex:Ms,ZodString:Ne,ZodNumber:Ve,ZodBigInt:Ue,ZodBoolean:Ge,ZodDate:ze,ZodSymbol:gt,ZodUndefined:Be,ZodNull:We,ZodAny:Ie,ZodUnknown:ve,ZodNever:ie,ZodVoid:_t,ZodArray:ye,ZodObject:B,ZodUnion:He,ZodDiscriminatedUnion:gr,ZodIntersection:Xe,ZodTuple:oe,ZodRecord:_r,ZodMap:wt,ZodSet:bt,ZodFunction:wr,ZodLazy:Ye,ZodLiteral:Je,ZodEnum:Qe,ZodNativeEnum:Ke,ZodPromise:Le,ZodEffects:Y,ZodTransformer:Y,ZodOptional:ee,ZodNullable:ce,ZodDefault:et,ZodCatch:tt,ZodNaN:kt,BRAND:Lu,ZodBranded:Bt,ZodPipeline:Wt,ZodReadonly:rt,custom:$s,Schema:x,ZodSchema:x,late:Pu,get ZodFirstPartyTypeKind(){return w},coerce:vl,any:Uu,array:Wu,bigint:Mu,boolean:Us,date:Zu,discriminatedUnion:Ju,effect:Is,enum:sl,function:nl,instanceof:qu,intersection:Qu,lazy:il,literal:al,map:tl,nan:Du,nativeEnum:ol,never:zu,null:Vu,nullable:ll,number:Vs,object:Hu,oboolean:pl,onumber:ml,optional:ul,ostring:hl,pipeline:dl,preprocess:fl,promise:cl,record:el,set:rl,strictObject:Xu,string:Fs,symbol:$u,transformer:Is,tuple:Ku,undefined:Fu,union:Yu,unknown:Gu,void:Bu,NEVER:yl,ZodIssueCode:f,quotelessJson:vu,ZodError:X});var Gs=ae.object({deleteIfExists:ae.boolean().optional(),write:ae.object({fileName:ae.string(),getContent:ae.function().args(ae.instanceof(mt)).returns(ae.string())}).optional(),patch:ae.instanceof(RegExp).optional(),minor:ae.instanceof(RegExp).optional(),major:ae.instanceof(RegExp).optional()});var Bs=_e(require("path"));var Ht=_e(Ee()),gl="version.config.js",zs={deleteIfExists:!0};async function Ws(){try{let t=Bs.default.join(process.cwd(),process.env.VER_CONFIG_PATH??gl);(0,Ht.echo)(`Reading a configuration from '${t}'`);let e=await import(t);return e=Gs.parse(e),(0,Ht.echo)("Configuration has found:",JSON.stringify(e)),e}catch(t){return(0,Ht.echo)("Import configuration failed:",t),(0,Ht.echo)("Used default configuration:",JSON.stringify(zs)),zs}}var Hs=_e(Ee());function Xs(t,e){try{switch(!0){case(e&&t.major&&t.major.test(e)):return"major";case(e&&t.minor&&t.minor.test(e)):return"minor";case(e&&t.patch&&t.patch.test(e)):default:return"patch"}}catch(r){return(0,Hs.echo)("Error while defining patch strategy:",r),"patch"}}var Ys=_e(require("fs/promises")),Js=require("path"),Cn=_e(Ee());async function Qs({write:t},e){if(t)try{let r=(0,Js.join)(process.cwd(),t.fileName);return(0,Cn.echo)("Writing a file:",r),Ys.default.writeFile(r,t.getContent(e))}catch(r){(0,Cn.echo)("Error while writing a file:",r)}}(async()=>{(0,xt.which)("git")||((0,xt.echo)("This script requires git cli"),(0,xt.exit)(1));let t=await Ws(),e=new mr(t),r=e.getLastTag(),n=e.getCommmitMessages(),i=new mt({lastTag:r,patcher:Xs(t,n?.[0])});e.createTag(i.toString()),e.pushTag(),t.write&&await Qs(t,i)})();
